(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{281:function(t,e,r){var n=r(32);t.exports=function(t){return n(Map.prototype.entries,t)}},289:function(t,e,r){r(13)({target:"Number",stat:!0},{isInteger:r(324)})},290:function(t,e,r){r(13)({target:"Number",stat:!0},{isFinite:r(325)})},292:function(t,e,r){"use strict";var n;r.d(e,"a",(function(){return Ps})),r.d(e,"b",(function(){return cs})),function(t){t[t.Clockwise=0]="Clockwise",t[t.CounterClockwise=1]="CounterClockwise",t[t.Double=2]="Double"}(n||(n={}));var o,c;r(11);!function(t){t.Clockwise="",t.CounterClockwise="'",t.Double="2"}(o||(o={})),function(t){t.F="F",t.U="U",t.R="R",t.L="L",t.D="D",t.B="B",t.M="M",t.E="E",t.S="S",t.X="x",t.Y="y",t.Z="z"}(c||(c={}));var h=[c.F,c.U,c.R,c.L,c.D,c.B,c.M,c.E,c.S,c.X,c.Y,c.Z],l=[c.X,c.Y,c.Z],f=/([0-9]+)?([UuFfRrDdLlBbMESxyz])(w)?([2\'])?/g;function v(t){if(!t)return[];for(var e,r=[];e=f.exec(t);){var n=e[1],c=e[2],h=e[3],v=e[4]||o.Clockwise,k=c===c.toLowerCase()&&-1===l.indexOf(c);k&&(c=c.toUpperCase());var R={unit:y(c),turnType:m(v),slices:k?2:d(n,h)};r.push(R)}return r}function d(t,e){if(e&&!t)return 2;if(!e&&t)throw new Error("Invalid move: Cannot specify num slices if outer block move indicator 'w' is not present");if(e||t){var r=parseInt(t);if(r>1)return r;throw new Error("Invalid outer block move (".concat(r,") must be greater than 1"))}return 1}function y(t){if(h.indexOf(t)<0)throw new Error("Invalid move (".concat(t,"): Possible turn faces are [U R F L D B M E S x y z]"));return t}function m(t){switch(t){case o.Clockwise:return n.Clockwise;case o.CounterClockwise:return n.CounterClockwise;case o.Double:return n.Double;default:throw new Error("Invalid move modifier (".concat(t,")"))}}r(159);var k=r(23),R=r(24),w=r(60),E=r(101),O=r(45),j=r(0);r(1),r(3),r(18),r(166),r(15),r(22),r(66),r(4),r(67),r(79),r(305),r(50),r(308),r(310),r(311),r(312),r(313),r(314),r(316),r(317),r(318),r(319),r(320),r(321),r(322),r(54),r(39),r(16),r(27);function M(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,h=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){h=!0,o=t},f:function(){try{c||null==r.return||r.return()}finally{if(h)throw o}}}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var F,B=function(){function t(){Object(k.a)(this,t),this.stickers=new Map,this.faces=new Map,this.turns=new Map}return Object(R.a)(t,[{key:"addFace",value:function(t,label){var e=this;if(label&&this.faces.has(label))throw"Face ".concat(label," already exists");label||(label=(this.faces.size+1).toString());var r=t.reduce((function(t,r){var n=(e.stickers.size+1).toString();return e.stickers.set(n,r),t.push(n),t}),[]);return this.faces.set(label,r),{faceId:label,stickerIds:r}}},{key:"addTurn",value:function(t,label){if(label&&this.turns.has(label))throw"Turn ".concat(label," already exists");return label||(label=(this.turns.size+1).toString()),this.turns.set(label,t),label}},{key:"doTurn",value:function(label){var t=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.turns.get(label);if(!r)throw"Unknown turn ".concat(label);var n=e?1:0,o=e?0:1,c={};r.forEach((function(e){c[e[o]]=t.stickers.get(e[o]),t.stickers.set(e[o],c[e[n]]||t.stickers.get(e[n]))}))}},{key:"isSolved",value:function(){var t=this.faces.entries(),e=t.next();do{var r,n=e.value[1],o=this.stickers.get(n[0]),c=M(n);try{for(c.s();!(r=c.n()).done;){var h=r.value;if(o!=this.stickers.get(h))return!1}}catch(t){c.e(t)}finally{c.f()}e=t.next()}while(!e.done);return!0}},{key:"getValues",value:function(){var t=this,e={};return this.faces.forEach((function(r,n){e[n]=r.map((function(e){return t.stickers.get(e)}))})),e}},{key:"setValue",value:function(t,e,r){if(this.faces.has(t)){var n=this.faces.get(t),o=n[e];n?this.stickers.set(o,r):console.warn("attempting to set sticker value for invalid sticker: ".concat(t," ").concat(e))}else console.warn("attempting to set sticker value on invalid face: ".concat(t))}},{key:"alg",value:function(t){var e=this;t&&t.split(" ").forEach((function(t){return e.doTurn(t)}))}},{key:"case",value:function(t){}},{key:"reset",value:function(){var t=this;this.faces.forEach((function(e,r){e.forEach((function(e){t.stickers.set(e,r)}))}))}}]),t}(),T={value:"#FFFF00"},I={value:"#FF0000"},S={value:"#0000FF"},x={value:"#FFFFFF"},L={value:"#FFA500"},P={value:"#00FF00"},z={value:"#800080"},U={value:"#808080"},N={value:"#00008B"},A={value:"#ffffb3"},V={value:"#32CD32"},D={value:"#FF69B4"},_={value:"#000000"},W={value:"#404040"};!function(t){t[t.CORNER=0]="CORNER",t[t.EDGE=1]="EDGE",t[t.MIDDLE=2]="MIDDLE"}(F||(F={}));var X,G=function(){function t(e,r,n){Object(k.a)(this,t),this.x=e,this.y=r,this.z=n}return Object(R.a)(t,[{key:"transformMat4",value:function(t){var e=t.values[3]*this.x+t.values[7]*this.y+t.values[11]*this.z+t.values[15];e=e||1;var r=(t.values[0]*this.x+t.values[4]*this.y+t.values[8]*this.z+t.values[12])/e,n=(t.values[1]*this.x+t.values[5]*this.y+t.values[9]*this.z+t.values[13])/e,o=(t.values[2]*this.x+t.values[6]*this.y+t.values[10]*this.z+t.values[14])/e;this.x=r,this.y=n,this.z=o}},{key:"multiply",value:function(t,e,r){this.x=this.x*t,this.y=this.y*e,this.z=this.z*r}},{key:"rotateX",value:function(t,e){var r=this.x-t.x,n=this.y-t.y,o=this.z-t.z;return this.x=r,this.y=n*Math.cos(e)-o*Math.sin(e),this.z=n*Math.sin(e)+o*Math.cos(e),this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"rotateZ",value:function(t,e){var r=this.x-t.x,n=this.y-t.y,o=this.z-t.z;return this.x=r*Math.cos(e)-n*Math.sin(e),this.y=r*Math.sin(e)+n*Math.cos(e),this.z=o,this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"clone",value:function(){return t.fromValues(this.x,this.y,this.z)}}],[{key:"fromValues",value:function(e,r,n){return new t(e,r,n)}}]),t}(),Y=function(){function t(e,r){Object(k.a)(this,t),this.x=e,this.y=r}return Object(R.a)(t,null,[{key:"fromValues",value:function(e,r){return new t(e,r)}}]),t}(),H=G.fromValues(.92875,-.24803,0),Z=T,K=x,Q=I,J=S,$=P,tt=L,et={top:Z,front:Q,bottom:K,left:J,right:$,back:tt},st=[{type:F.CORNER,colors:[Z,Q,J]},{type:F.EDGE,colors:[Z,J]},{type:F.CORNER,colors:[Z,J,tt]},{type:F.EDGE,colors:[Z,tt]},{type:F.CORNER,colors:[Z,tt,$]},{type:F.EDGE,colors:[Z,$]},{type:F.CORNER,colors:[Z,$,Q]},{type:F.EDGE,colors:[Z,Q]}],it=[{type:F.EDGE,colors:[K,tt]},{type:F.CORNER,colors:[K,tt,J]},{type:F.EDGE,colors:[K,J]},{type:F.CORNER,colors:[K,J,Q]},{type:F.EDGE,colors:[K,Q]},{type:F.CORNER,colors:[K,Q,$]},{type:F.EDGE,colors:[K,$]},{type:F.CORNER,colors:[K,$,tt]}],at=/((\()?(-?\d)\s*,\s*(-?\d)(\))?)|(\/)/g;function nt(t){for(var e,r=[];e=at.exec(t);)"/"===e[0]?r.push({slice:!0}):r.push({top:parseInt(e[3]),bottom:parseInt(e[4])});return r}function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var ct=(X={},Object(j.a)(X,F.CORNER,2),Object(j.a)(X,F.EDGE,1),X),ut=function(t){Object(w.a)(r,t);var e=ot(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et;return Object(k.a)(this,r),(t=e.call(this)).scheme=n,t.topLayer=ht(t.scheme),t.bottomLayer=lt(t.scheme),t.middleRotated=!1,t}return Object(R.a)(r,[{key:"alg",value:function(t){var e=this;nt(t).forEach((function(t){"slice"in t?e.slice():(e.rotateTop(t.top),e.rotateBottom(t.bottom))}))}},{key:"case",value:function(t){var e=this;nt(t).reverse().forEach((function(t){"slice"in t?e.slice():(e.rotateTop(-1*t.top),e.rotateBottom(-1*t.bottom))}))}},{key:"slice",value:function(){for(var t=0,e=0,r=0,i=this.topLayer.length;i>0&&r<6;i--)r+=ct[this.topLayer[i-1].type],t++;if(6!=r)throw"Cannot perform slice move. Top layer misaligned";r=0;for(var n=this.bottomLayer.length;n>0&&r<6;n--)r+=ct[this.bottomLayer[n-1].type],e++;if(6!=r)throw"Cannot perform slice move. Bottom layer misaligned";var o=this.topLayer.splice(this.topLayer.length-t,this.topLayer.length),c=this.bottomLayer.splice(this.bottomLayer.length-e,this.bottomLayer.length);this.topLayer=this.topLayer.concat(c),this.bottomLayer=this.bottomLayer.concat(o),this.middleRotated=!this.middleRotated}},{key:"rotateTop",value:function(t){for(var e=t;0!=t;)if(t<0){var r=this.topLayer.shift(),n=ct[r.type];if(Math.abs(t)<n)throw"Invalid Square1 Move. Cannot turn top layer ".concat(e," steps");this.topLayer.push(r),t+=n}else{var o=this.topLayer.pop(),c=ct[o.type];if(Math.abs(t)<c)throw"Invalid Square1 Move. Cannot turn top layer ".concat(e," steps");this.topLayer.unshift(o),t-=c}}},{key:"rotateBottom",value:function(t){for(var e=t;0!=t;)if(t<0){var r=this.bottomLayer.shift(),n=ct[r.type];if(Math.abs(t)<n)throw"Invalid Square1 Move. Cannot turn top layer ".concat(e," steps");this.bottomLayer.push(r),t+=n}else{var o=this.bottomLayer.pop(),c=ct[o.type];if(Math.abs(t)<c)throw"Invalid Square1 Move. Cannot turn top layer ".concat(e," steps");this.bottomLayer.unshift(o),t-=c}}}]),r}(B);function ht(t){return[{type:F.CORNER,colors:[t.top||Z,t.front||Q,t.left||J]},{type:F.EDGE,colors:[t.top||Z,t.left||J]},{type:F.CORNER,colors:[t.top||Z,t.left||J,t.back||tt]},{type:F.EDGE,colors:[t.top||Z,t.back||tt]},{type:F.CORNER,colors:[t.top||Z,t.back||tt,t.right||$]},{type:F.EDGE,colors:[t.top||Z,t.right||$]},{type:F.CORNER,colors:[t.top||Z,t.right||$,t.front||Q]},{type:F.EDGE,colors:[t.top||Z,t.front||Q]}]}function lt(t){return[{type:F.EDGE,colors:[t.bottom||K,t.back||tt]},{type:F.CORNER,colors:[t.bottom||K,t.back||tt,t.left||J]},{type:F.EDGE,colors:[t.bottom||K,t.left||J]},{type:F.CORNER,colors:[t.bottom||K,t.left||J,t.front||Q]},{type:F.EDGE,colors:[t.bottom||K,t.front||Q]},{type:F.CORNER,colors:[t.bottom||K,t.front||Q,t.right||$]},{type:F.EDGE,colors:[t.bottom||K,t.right||$]},{type:F.CORNER,colors:[t.bottom||K,t.right||$,t.back||tt]}]}var ft=/([LRUB])(\'?)/g,vt={"":n.Clockwise,"'":n.CounterClockwise};function bt(t){for(var e,r=[];e=ft.exec(t);){var n=e[1],o=e[2];r.push({unit:n,turnType:vt[o],slices:1})}return r}r(126);function yt(t,e){return new Array(t).fill(e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var mt=function(t){Object(w.a)(r,t);var e=pt(r);function r(){var t;Object(k.a)(this,r);var n=(t=e.call(this)).addFace(yt(5,"top"),"top").stickerIds,o=t.addFace(yt(5,"front"),"front").stickerIds,c=t.addFace(yt(5,"right"),"right").stickerIds,h=t.addFace(yt(5,"bottom"),"bottom").stickerIds,l=t.addFace(yt(5,"back"),"back").stickerIds,f=t.addFace(yt(5,"left"),"left").stickerIds;return t.addTurn([[c[0],l[0]],[c[2],l[4]],[c[3],l[1]],[c[4],l[3]],[l[0],h[0]],[l[4],h[2]],[l[1],h[3]],[l[3],h[4]],[h[0],c[0]],[h[2],c[2]],[h[3],c[3]],[h[4],c[4]],[o[4],n[2]],[n[2],f[3]],[f[3],o[4]]],"R"),t.addTurn([[kt(n),kt(f)],[gt(n),gt(f)],[Rt(n),Rt(f)],[wt(n),wt(f)],[kt(f),kt(l)],[gt(f),Rt(l)],[Rt(f),Et(l)],[wt(f),gt(l)],[kt(l),kt(n)],[Rt(l),gt(n)],[Et(l),Rt(n)],[gt(l),wt(n)],[Rt(c),gt(o)],[gt(o),wt(h)],[wt(h),Rt(c)]],"U"),t.addTurn([[kt(f),kt(o)],[wt(f),gt(o)],[Rt(f),Et(o)],[Et(f),wt(o)],[kt(o),kt(h)],[gt(o),Rt(h)],[Et(o),wt(h)],[wt(o),gt(h)],[kt(h),kt(f)],[Rt(h),wt(f)],[wt(h),Rt(f)],[gt(h),Et(f)],[Et(l),wt(n)],[wt(n),wt(c)],[wt(c),Et(l)]],"L"),t.addTurn([[kt(l),kt(f)],[Rt(l),Et(f)],[wt(l),gt(f)],[Et(l),wt(f)],[kt(f),kt(h)],[Et(f),Et(h)],[gt(f),gt(h)],[wt(f),wt(h)],[kt(h),kt(l)],[Et(h),Rt(l)],[gt(h),wt(l)],[wt(h),Et(l)],[gt(n),wt(o)],[wt(o),Et(c)],[Et(c),gt(n)]],"B"),t}return Object(R.a)(r,[{key:"R",value:function(t){this.doTurn("R",t)}},{key:"U",value:function(t){this.doTurn("U",t)}},{key:"L",value:function(t){this.doTurn("L",t)}},{key:"B",value:function(t){this.doTurn("B",t)}},{key:"alg",value:function(t){t&&this.doTurns(bt(t))}},{key:"case",value:function(t){if(t){var e=bt(t).reverse().map((function(t){return Object.assign(Object.assign({},t),{turnType:t.turnType===n.Clockwise?n.CounterClockwise:n.Clockwise})}));this.doTurns(e)}}},{key:"doTurns",value:function(t){var e=this;t.forEach((function(t){var r=t.turnType===n.CounterClockwise;switch(t.unit){case"R":e.R(r);break;case"U":e.U(r);break;case"L":e.L(r);break;case"B":e.B(r)}}))}}]),r}(B),kt=function(t){return t[0]},gt=function(t){return t[1]},Rt=function(t){return t[2]},wt=function(t){return t[3]},Et=function(t){return t[4]},Ot=/([LlRrUuBb])(\'?)/g,jt={"":n.Clockwise,"'":n.CounterClockwise};function Mt(t){for(var e,r=[];e=Ot.exec(t);){var n=e[1],o=e[2];r.push({unit:n,turnType:jt[o],slices:1})}return r}function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var Ft,Bt,Tt=function(t){Object(w.a)(r,t);var e=Ct(r);function r(){var t;Object(k.a)(this,r);var n=(t=e.call(this)).addFace(yt(9,"top"),"top").stickerIds,o=t.addFace(yt(9,"left"),"left").stickerIds,c=t.addFace(yt(9,"right"),"right").stickerIds,h=t.addFace(yt(9,"back"),"back").stickerIds;return t.addTurn([[n[8],c[8]],[c[8],o[8]],[o[8],n[8]]],"u"),t.addTurn([[o[0],h[8]],[h[8],n[4]],[n[4],o[0]]],"l"),t.addTurn([[o[4],c[0]],[c[0],h[4]],[h[4],o[4]]],"r"),t.addTurn([[c[4],n[0]],[n[0],h[0]],[h[0],c[4]]],"b"),t.addTurn([[n[5],c[5]],[n[6],c[6]],[n[7],c[7]],[n[8],c[8]],[c[5],o[5]],[c[6],o[6]],[c[7],o[7]],[c[8],o[8]],[o[5],n[5]],[o[6],n[6]],[o[7],n[7]],[o[8],n[8]]],"U"),t.addTurn([[o[0],h[8]],[o[1],h[6]],[o[2],h[5]],[o[5],h[7]],[h[8],n[4]],[h[6],n[3]],[h[5],n[7]],[h[7],n[2]],[n[4],o[0]],[n[3],o[1]],[n[7],o[2]],[n[2],o[5]]],"L"),t.addTurn([[o[2],c[5]],[o[3],c[1]],[o[4],c[0]],[o[7],c[2]],[c[5],h[2]],[c[1],h[3]],[c[0],h[4]],[c[2],h[7]],[h[2],o[2]],[h[3],o[3]],[h[4],o[4]],[h[7],o[7]]],"R"),t.addTurn([[c[2],n[5]],[c[3],n[1]],[c[4],n[0]],[c[7],n[2]],[n[5],h[5]],[n[1],h[1]],[n[0],h[0]],[n[2],h[2]],[h[5],c[2]],[h[1],c[3]],[h[0],c[4]],[h[2],c[7]]],"B"),t}return Object(R.a)(r,[{key:"U",value:function(t){this.doTurn("U",t)}},{key:"R",value:function(t){this.doTurn("R",t)}},{key:"L",value:function(t){this.doTurn("L",t)}},{key:"B",value:function(t){this.doTurn("B",t)}},{key:"u",value:function(t){this.doTurn("u",t)}},{key:"r",value:function(t){this.doTurn("r",t)}},{key:"l",value:function(t){this.doTurn("l",t)}},{key:"b",value:function(t){this.doTurn("b",t)}},{key:"alg",value:function(t){t&&this.doTurns(Mt(t))}},{key:"case",value:function(t){if(t){var e=Mt(t).reverse().map((function(t){return Object.assign(Object.assign({},t),{turnType:t.turnType===n.Clockwise?n.CounterClockwise:n.Clockwise})}));this.doTurns(e)}}},{key:"doTurns",value:function(t){var e=this;t.forEach((function(t){var r=t.turnType===n.CounterClockwise;switch(t.unit){case"R":e.R(r);break;case"r":e.r(r);break;case"U":e.U(r);break;case"u":e.u(r);break;case"L":e.L(r);break;case"l":e.l(r);break;case"B":e.B(r);break;case"b":e.b(r)}}))}}]),r}(B),It=r(31),St=["U","R","F","dr","dl","L","d","br","BR","BL","bl","b"],xt=/([RD])([\+\+|\-\-]+)|([UFRL]|BR|BL)([2-3]?)(\'?)/g;!function(t){t.Clockwise="++",t.CounterClockwise="--",t.FaceClockwise="",t.FaceCounter="'"}(Bt||(Bt={}));var Lt=(Ft={},Object(j.a)(Ft,Bt.Clockwise,n.Clockwise),Object(j.a)(Ft,Bt.CounterClockwise,n.CounterClockwise),Object(j.a)(Ft,Bt.FaceClockwise,n.Clockwise),Object(j.a)(Ft,Bt.FaceCounter,n.CounterClockwise),Ft);function Pt(t){if(!t)return[];for(var e,r=[];e=xt.exec(t);){var n=e[1]?"".concat(e[1],"xx"):e[3],o=e[2]||e[5],c=e[4];r.push({unit:n,turnType:Lt[o],slices:1,n:c?parseInt(c):1})}return r}function zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var Ut,Nt,At,Vt,Dt,_t=function(t){Object(w.a)(r,t);var e=zt(r);function r(){var t;Object(k.a)(this,r),t=e.call(this),St.forEach((function(e){t.addFace(yt(11,e),e)}));var n=t.faces.get("U"),o=t.faces.get("R"),c=t.faces.get("F"),h=t.faces.get("dr"),dl=t.faces.get("dl"),l=t.faces.get("L"),f=t.faces.get("d"),br=t.faces.get("br"),v=t.faces.get("BR"),d=t.faces.get("BL"),y=t.faces.get("bl"),b=t.faces.get("b");return t.addTurn([[c[2],n[6]],[c[1],n[5]],[c[10],n[4]],[n[6],v[10]],[n[5],v[9]],[n[4],v[8]],[v[10],br[8]],[v[9],br[7]],[v[8],br[6]],[br[8],h[2]],[br[7],h[1]],[br[6],h[10]],[h[2],c[2]],[h[1],c[1]],[h[10],c[10]]].concat(Object(It.a)(Wt(o))),"R"),t.addTurn([[n[2],o[2]],[n[3],o[3]],[n[4],o[4]],[o[2],h[2]],[o[3],h[3]],[o[4],h[4]],[h[2],dl[2]],[h[3],dl[3]],[h[4],dl[4]],[dl[2],l[2]],[dl[3],l[3]],[dl[4],l[4]],[l[2],n[2]],[l[3],n[3]],[l[4],n[4]]].concat(Object(It.a)(Wt(c))),"F"),t.addTurn([[c[2],l[4]],[c[3],l[5]],[c[4],l[6]],[l[4],d[8]],[l[5],d[9]],[l[6],d[10]],[d[8],v[6]],[d[9],v[7]],[d[10],v[8]],[v[6],o[10]],[v[7],o[1]],[v[8],o[2]],[o[10],c[2]],[o[1],c[3]],[o[2],c[4]]].concat(Object(It.a)(Wt(n))),"U"),t.addTurn([[c[4],dl[4]],[c[5],dl[5]],[c[6],dl[6]],[dl[4],y[8]],[dl[5],y[9]],[dl[6],y[10]],[y[8],d[6]],[y[9],d[7]],[y[10],d[8]],[d[6],n[10]],[d[7],n[1]],[d[8],n[2]],[n[10],c[4]],[n[1],c[5]],[n[2],c[6]]].concat(Object(It.a)(Wt(l))),"L"),t.addTurn([[n[6],d[10]],[n[7],d[1]],[n[8],d[2]],[d[10],b[8]],[d[1],b[9]],[d[2],b[10]],[b[8],br[4]],[b[9],br[5]],[b[10],br[6]],[br[4],o[8]],[br[5],o[9]],[br[6],o[10]],[o[8],n[6]],[o[9],n[7]],[o[10],n[8]]].concat(Object(It.a)(Wt(v))),"BR"),t.addTurn([[n[8],l[6]],[n[9],l[7]],[n[10],l[8]],[l[6],y[10]],[l[7],y[1]],[l[8],y[2]],[y[10],b[6]],[y[1],b[7]],[y[2],b[8]],[b[6],v[4]],[b[7],v[5]],[b[8],v[6]],[v[4],n[8]],[v[5],n[9]],[v[6],n[10]]].concat(Object(It.a)(Wt(d))),"BL"),t.addTurn([[c[8],o[4]],[c[9],o[5]],[c[10],o[6]],[o[4],br[8]],[o[5],br[9]],[o[6],br[10]],[br[8],f[6]],[br[9],f[7]],[br[10],f[8]],[f[6],dl[10]],[f[7],dl[1]],[f[8],dl[2]],[dl[10],c[8]],[dl[1],c[9]],[dl[2],c[10]]].concat(Object(It.a)(Wt(h))),"dr"),t.addTurn([[c[6],h[4]],[c[7],h[5]],[c[8],h[6]],[h[4],f[8]],[h[5],f[9]],[h[6],f[10]],[f[8],y[6]],[f[9],y[7]],[f[10],y[8]],[y[6],l[10]],[y[7],l[1]],[y[8],l[2]],[l[10],c[6]],[l[1],c[7]],[l[2],c[8]]].concat(Object(It.a)(Wt(dl))),"dl"),t.addTurn([[br[10],b[2]],[br[1],b[3]],[br[2],b[4]],[b[2],y[4]],[b[3],y[5]],[b[4],y[6]],[y[4],dl[8]],[y[5],dl[9]],[y[6],dl[10]],[dl[8],h[6]],[dl[9],h[7]],[dl[10],h[8]],[h[6],br[10]],[h[7],br[1]],[h[8],br[2]]].concat(Object(It.a)(Wt(f))),"d"),t.addTurn([[b[10],f[4]],[b[1],f[5]],[b[2],f[6]],[f[4],h[8]],[f[5],h[9]],[f[6],h[10]],[h[8],o[6]],[h[9],o[7]],[h[10],o[8]],[o[6],v[10]],[o[7],v[1]],[o[8],v[2]],[v[10],b[10]],[v[1],b[1]],[v[2],b[2]]].concat(Object(It.a)(Wt(br))),"br"),t.addTurn([[d[4],l[8]],[d[5],l[9]],[d[6],l[10]],[l[8],dl[6]],[l[9],dl[7]],[l[10],dl[8]],[dl[6],f[10]],[dl[7],f[1]],[dl[8],f[2]],[f[10],b[4]],[f[1],b[5]],[f[2],b[6]],[b[4],d[4]],[b[5],d[5]],[b[6],d[6]]].concat(Object(It.a)(Wt(y))),"bl"),t.addTurn([[br[2],v[2]],[br[3],v[3]],[br[4],v[4]],[v[2],d[2]],[v[3],d[3]],[v[4],d[4]],[d[2],y[2]],[d[3],y[3]],[d[4],y[4]],[y[2],f[2]],[y[3],f[3]],[y[4],f[4]],[f[2],br[2]],[f[3],br[3]],[f[4],br[4]]].concat(Object(It.a)(Wt(b))),"b"),t.addTurn([[c[0],o[0]],[c[1],o[9]],[c[5],o[3]],[c[6],o[4]],[c[7],o[5]],[c[8],o[6]],[c[9],o[7]],[c[10],o[8]],[o[0],v[0]],[o[3],v[9]],[o[4],v[10]],[o[5],v[1]],[o[6],v[2]],[o[7],v[3]],[o[8],v[4]],[o[9],v[5]],[v[0],d[0]],[v[9],d[1]],[v[10],d[2]],[v[1],d[3]],[v[2],d[4]],[v[3],d[5]],[v[4],d[6]],[v[5],d[7]],[d[0],l[0]],[d[1],l[7]],[d[2],l[8]],[d[3],l[9]],[d[4],l[10]],[d[5],l[1]],[d[6],l[2]],[d[7],l[3]],[l[0],c[0]],[l[7],c[5]],[l[8],c[6]],[l[9],c[7]],[l[10],c[8]],[l[1],c[9]],[l[2],c[10]],[l[3],c[1]],[h[0],br[0]],[h[1],br[5]],[h[2],br[6]],[h[3],br[7]],[h[4],br[8]],[h[5],br[9]],[h[6],br[10]],[h[7],br[1]],[h[8],br[2]],[h[9],br[3]],[h[10],br[4]],[br[0],b[0]],[br[1],b[3]],[br[2],b[4]],[br[3],b[5]],[br[4],b[6]],[br[5],b[7]],[br[6],b[8]],[br[7],b[9]],[br[8],b[10]],[br[9],b[1]],[br[10],b[2]],[b[0],y[0]],[b[1],y[3]],[b[2],y[4]],[b[3],y[5]],[b[4],y[6]],[b[5],y[7]],[b[6],y[8]],[b[7],y[9]],[b[8],y[10]],[b[9],y[1]],[b[10],y[2]],[y[0],dl[0]],[y[1],dl[5]],[y[2],dl[6]],[y[3],dl[7]],[y[4],dl[8]],[y[5],dl[9]],[y[6],dl[10]],[y[7],dl[1]],[y[8],dl[2]],[y[9],dl[3]],[y[10],dl[4]],[dl[0],h[0]],[dl[1],h[9]],[dl[2],h[10]],[dl[3],h[1]],[dl[4],h[2]],[dl[5],h[3]],[dl[6],h[4]],[dl[7],h[5]],[dl[8],h[6]],[dl[9],h[7]],[dl[10],h[8]]].concat(Object(It.a)(Wt(f))),"D++"),t.addTurn([[c[0],n[0]],[c[7],n[3]],[c[8],n[4]],[c[9],n[5]],[c[10],n[6]],[c[1],n[7]],[c[2],n[8]],[c[3],n[9]],[n[0],d[0]],[n[3],d[9]],[n[4],d[10]],[n[5],d[1]],[n[6],d[2]],[n[7],d[3]],[n[8],d[4]],[n[9],d[5]],[d[0],y[0]],[d[9],y[1]],[d[10],y[2]],[d[1],y[3]],[d[2],y[4]],[d[3],y[5]],[d[4],y[6]],[d[5],y[7]],[y[0],dl[0]],[y[1],dl[7]],[y[2],dl[8]],[y[3],dl[9]],[y[4],dl[10]],[y[5],dl[1]],[y[6],dl[2]],[y[7],dl[3]],[dl[0],c[0]],[dl[7],c[7]],[dl[8],c[8]],[dl[9],c[9]],[dl[10],c[10]],[dl[1],c[1]],[dl[2],c[2]],[dl[3],c[3]],[h[0],o[0]],[h[1],o[9]],[h[2],o[10]],[h[3],o[1]],[h[4],o[2]],[h[5],o[3]],[h[6],o[4]],[h[7],o[5]],[h[8],o[6]],[h[9],o[7]],[h[10],o[8]],[o[0],v[0]],[o[1],v[5]],[o[2],v[6]],[o[3],v[7]],[o[4],v[8]],[o[5],v[9]],[o[6],v[10]],[o[7],v[1]],[o[8],v[2]],[o[9],v[3]],[o[10],v[4]],[v[0],b[0]],[v[1],b[1]],[v[2],b[2]],[v[3],b[3]],[v[4],b[4]],[v[5],b[5]],[v[6],b[6]],[v[7],b[7]],[v[8],b[8]],[v[9],b[9]],[v[10],b[10]],[b[0],f[0]],[b[1],f[5]],[b[2],f[6]],[b[3],f[7]],[b[4],f[8]],[b[5],f[9]],[b[6],f[10]],[b[7],f[1]],[b[8],f[2]],[b[9],f[3]],[b[10],f[4]],[f[0],h[0]],[f[1],h[5]],[f[2],h[6]],[f[3],h[7]],[f[4],h[8]],[f[5],h[9]],[f[6],h[10]],[f[7],h[1]],[f[8],h[2]],[f[9],h[3]],[f[10],h[4]]].concat(Object(It.a)(Wt(br))),"R++"),t}return Object(R.a)(r,[{key:"U",value:function(t){this.doTurn("U",t)}},{key:"R",value:function(t){this.doTurn("R",t)}},{key:"F",value:function(t){this.doTurn("F",t)}},{key:"dr",value:function(t){this.doTurn("dr",t)}},{key:"dl",value:function(t){this.doTurn("dl",t)}},{key:"L",value:function(t){this.doTurn("L",t)}},{key:"d",value:function(t){this.doTurn("d",t)}},{key:"br",value:function(t){this.doTurn("br",t)}},{key:"BR",value:function(t){this.doTurn("BR",t)}},{key:"BL",value:function(t){this.doTurn("BL",t)}},{key:"bl",value:function(t){this.doTurn("bl",t)}},{key:"b",value:function(t){this.doTurn("b",t)}},{key:"Dxx",value:function(t){this.doTurn("D++",t)}},{key:"Rxx",value:function(t){this.doTurn("R++",t)}},{key:"alg",value:function(t){t&&this.doTurns(Pt(t))}},{key:"case",value:function(t){if(t){var e=Pt(t).reverse().map((function(t){return Object.assign(Object.assign({},t),{turnType:t.turnType===n.Clockwise?n.CounterClockwise:n.Clockwise})}));this.doTurns(e)}}},{key:"doTurns",value:function(t){var e=this;t.forEach((function(t){var r,o=t.turnType===n.CounterClockwise;switch(t.unit){case"Rxx":r=e.Rxx.bind(e);break;case"Dxx":r=e.Dxx.bind(e);break;case"U":r=e.U.bind(e);break;case"R":r=e.R.bind(e);break;case"F":r=e.F.bind(e);break;case"L":r=e.L.bind(e);break;case"BL":r=e.BL.bind(e);break;case"BR":r=e.BR.bind(e)}for(var i=t.n;i>0;i--)r(o)}))}}]),r}(B);function Wt(t){return[[t[1],t[9]],[t[9],t[7]],[t[7],t[5]],[t[5],t[3]],[t[3],t[1]],[t[2],t[10]],[t[10],t[8]],[t[8],t[6]],[t[6],t[4]],[t[4],t[2]]]}!function(t){t.U="U",t.R="R",t.F="F",t.D="D",t.L="L",t.B="B"}(Dt||(Dt={}));var Xt,Gt=[Dt.U,Dt.R,Dt.F,Dt.D,Dt.L,Dt.B];!function(t){t.X="X",t.Y="Y",t.Z="Z"}(Xt||(Xt={}));var Yt={X:[Dt.U,Dt.B,Dt.D,Dt.F],Y:[Dt.L,Dt.B,Dt.R,Dt.F],Z:[Dt.L,Dt.U,Dt.R,Dt.D]},qt={X:(Ut={},Object(j.a)(Ut,Dt.U,0),Object(j.a)(Ut,Dt.B,2),Object(j.a)(Ut,Dt.F,0),Object(j.a)(Ut,Dt.D,0),Ut),Y:(Nt={},Object(j.a)(Nt,Dt.B,-1),Object(j.a)(Nt,Dt.F,-1),Object(j.a)(Nt,Dt.L,-1),Object(j.a)(Nt,Dt.R,-1),Nt),Z:(At={},Object(j.a)(At,Dt.U,-1),Object(j.a)(At,Dt.D,1),Object(j.a)(At,Dt.L,2),Object(j.a)(At,Dt.R,0),At)},Ht=(Vt={},Object(j.a)(Vt,Dt.U,!1),Object(j.a)(Vt,Dt.R,!1),Object(j.a)(Vt,Dt.F,!1),Object(j.a)(Vt,Dt.D,!0),Object(j.a)(Vt,Dt.L,!0),Object(j.a)(Vt,Dt.B,!0),Vt);function Zt(t){return Math.PI*t/180}function Kt(t,e){var r=t*Math.cos(e),n=t*Math.sin(e);return Y.fromValues(r,n)}function Qt(t){return t/(2*Math.sin(Math.PI/5))}function Jt(t){return t/2*Math.sqrt(2.5+1.1*Math.sqrt(5))}function $t(t){var e=0,r=0,n=0;return t.forEach((function(t){e+=t.x,r+=t.y,n+=t.z})),e/=t.length,r/=t.length,n/=t.length,G.fromValues(e,r,n)}function te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var ee,se=function(t){Object(w.a)(r,t);var e=te(r);function r(t){var n;return Object(k.a)(this,r),(n=e.call(this)).size=t,n.gridSize=t*t,Gt.forEach((function(t){n.addFace(yt(n.gridSize,t),t);var e=n.makeFaceTurnDefinitions(t);n.addTurn(e,t)})),[Xt.X,Xt.Y,Xt.Z].forEach((function(t){for(var e=function(e){var r=[];Yt[t].forEach((function(o,i){for(var c=Yt[t][(i+1)%Yt[t].length],h=n.faces.get(c),l=n.faces.get(o),f=0;f<n.size;f++){var v=n.size*f+e,d=l[n.axisAlignedSticker(t,o,v)],y=h[n.axisAlignedSticker(t,c,v)];r.push([d,y])}})),n.addTurn(r,"".concat(t,"-").concat(e))},r=0;r<n.size;r++)e(r)})),n}return Object(R.a)(r,[{key:"makeFaceTurnDefinitions",value:function(t){var e=this,r=this.faces.get(t);return r.map((function(t,i){return[t,r[e.clockwiseSticker(i)]]}))}},{key:"clockwiseSticker",value:function(t){return(t+1)*this.size%(this.gridSize+1)-1}},{key:"counterClockwiseSticker",value:function(t){return this.oppositeSticker(this.clockwiseSticker(t))}},{key:"oppositeSticker",value:function(t){return this.gridSize-(t+1)}},{key:"axisAlignedSticker",value:function(t,e,r){switch(qt[t][e]){case 0:return r;case 1:return this.clockwiseSticker(r);case 2:return this.oppositeSticker(r);case-1:return this.counterClockwiseSticker(r);default:throw"Invalid axis face orientation value ".concat(qt[t][e])}}},{key:"turnFace",value:function(t,e,r,n,o){var c=this;Math.abs(o-n)>=this.size-1?console.error("Invalid number of layers to turn, skipping turn.; face=".concat(t,", layers=").concat(Math.abs(o-n)+1)):(this.doTurn(t,r),function(t,e){if(t===e)return[t];for(var r=t<e?1:-1,n=[],o=t;o!=e;o+=r)n.push(o);return n.push(e),n}(n,o).forEach((function(n){c.doTurn("".concat(e,"-").concat(n),Ht[t]?!r:r)})))}},{key:"U",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.turnFace(Dt.U,Xt.Y,t,this.size-1,this.size-e)}},{key:"R",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.turnFace(Dt.R,Xt.X,t,this.size-1,this.size-e)}},{key:"F",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.turnFace(Dt.F,Xt.Z,t,0,e-1)}},{key:"D",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.turnFace(Dt.D,Xt.Y,t,0,e-1)}},{key:"L",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.turnFace(Dt.L,Xt.X,t,0,e-1)}},{key:"B",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.turnFace(Dt.B,Xt.Z,t,this.size-1,this.size-e)}},{key:"M",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=1;e<this.size-1;e++)this.doTurn("".concat(Xt.X,"-").concat(e),!t)}},{key:"S",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=1;e<this.size-1;e++)this.doTurn("".concat(Xt.Z,"-").concat(e),t)}},{key:"E",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=1;e<this.size-1;e++)this.doTurn("".concat(Xt.Y,"-").concat(e),!t)}},{key:"X",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.doTurn("R",t),this.doTurn("L",!t);for(var e=0;e<this.size;e++)this.doTurn("".concat(Xt.X,"-").concat(e),t)}},{key:"Y",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.doTurn("U",t),this.doTurn("D",!t);for(var e=0;e<this.size;e++)this.doTurn("".concat(Xt.Y,"-").concat(e),t)}},{key:"Z",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.doTurn("F",t),this.doTurn("B",!t);for(var e=0;e<this.size;e++)this.doTurn("".concat(Xt.Z,"-").concat(e),t)}},{key:"alg",value:function(t){t&&this.doTurns(v(t))}},{key:"case",value:function(t){if(t){var e=v(t).reverse().map((function(t){switch(t.turnType){case n.Clockwise:t.turnType=n.CounterClockwise;break;case n.CounterClockwise:t.turnType=n.Clockwise;case n.Double:}return t}));this.doTurns(e)}}},{key:"doTurns",value:function(t){var e=this;t.forEach((function(t){var r;switch(t.unit){case c.U:r=e.U.bind(e);break;case c.R:r=e.R.bind(e);break;case c.F:r=e.F.bind(e);break;case c.D:r=e.D.bind(e);break;case c.L:r=e.L.bind(e);break;case c.B:r=e.B.bind(e);break;case c.M:r=e.M.bind(e);break;case c.E:r=e.E.bind(e);break;case c.S:r=e.S.bind(e);break;case c.X:r=e.X.bind(e);break;case c.Y:r=e.Y.bind(e);break;case c.Z:r=e.Z.bind(e);break;default:console.warn("Unsupported cube move",t)}var o=t.turnType===n.CounterClockwise;r(o,t.slices),t.turnType===n.Double&&r(o,t.slices)}))}}]),r}(B),re=(ee=0,function(){return ee++}),ie=(r(323),function(){function t(e){Object(k.a)(this,t),Array.isArray(e)&&16==e.length?this.values=e:this.values=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return Object(R.a)(t,[{key:"translate",value:function(t,e,r){this.values[12]=this.values[0]*t+this.values[4]*e+this.values[8]*r+this.values[12],this.values[13]=this.values[1]*t+this.values[5]*e+this.values[9]*r+this.values[13],this.values[14]=this.values[2]*t+this.values[6]*e+this.values[10]*r+this.values[14],this.values[15]=this.values[3]*t+this.values[7]*e+this.values[11]*r+this.values[15]}},{key:"scale",value:function(t,e,r){this.values[0]=this.values[0]*t,this.values[1]=this.values[1]*t,this.values[2]=this.values[2]*t,this.values[3]=this.values[3]*t,this.values[4]=this.values[4]*e,this.values[5]=this.values[5]*e,this.values[6]=this.values[6]*e,this.values[7]=this.values[7]*e,this.values[8]=this.values[8]*r,this.values[9]=this.values[9]*r,this.values[10]=this.values[10]*r,this.values[11]=this.values[11]*r}},{key:"rotate",value:function(t,e,r,n){var o=Math.hypot(e,r,n);if(!(o<1e-6)){e*=o=1/o,r*=o,n*=o;var c,h,l,f,v,d,y,m,k,R,w,E,O,j,M,C,F,B,T,I,S,s=Math.sin(t),x=Math.cos(t),L=1-x;c=this.values[0],h=this.values[1],l=this.values[2],f=this.values[3],v=this.values[4],d=this.values[5],y=this.values[6],m=this.values[7],k=this.values[8],R=this.values[9],w=this.values[10],E=this.values[11],O=e*e*L+x,j=r*e*L+n*s,M=n*e*L-r*s,C=e*r*L-n*s,F=r*r*L+x,B=n*r*L+e*s,T=e*n*L+r*s,I=r*n*L-e*s,S=n*n*L+x,this.values[0]=c*O+v*j+k*M,this.values[1]=h*O+d*j+R*M,this.values[2]=l*O+y*j+w*M,this.values[3]=f*O+m*j+E*M,this.values[4]=c*C+v*F+k*B,this.values[5]=h*C+d*F+R*B,this.values[6]=l*C+y*F+w*B,this.values[7]=f*C+m*F+E*B,this.values[8]=c*T+v*I+k*S,this.values[9]=h*T+d*I+R*S,this.values[10]=l*T+y*I+w*S,this.values[11]=f*T+m*I+E*S}}},{key:"multiply",value:function(b){t.multiply(this,this,b)}}],[{key:"fromValues",value:function(e,r,n,o,c,h,l,f,v,d,y,m,k,R,w,E){return new t([e,r,n,o,c,h,l,f,v,d,y,m,k,R,w,E])}},{key:"fromQuaternion",value:function(q){var e=q.a,r=q.b,n=q.c,o=q.d,c=e+e,h=r+r,l=n+n,f=e*c,v=r*c,d=r*h,y=n*c,m=n*h,k=n*l,R=o*c,w=o*h,E=o*l;return t.fromValues(1-d-k,v+E,y-w,0,v-E,1-f-k,m+R,0,y+w,m-R,1-f-d,0,0,0,0,1)}},{key:"fromTranslation",value:function(e,r,n){return t.fromValues(1,0,0,0,0,1,0,0,0,0,1,0,e,r,n,1)}},{key:"fromXRotation",value:function(e){var s=Math.sin(e),r=Math.cos(e);return t.fromValues(1,0,0,0,0,r,s,0,0,-s,r,0,0,0,0,1)}},{key:"fromYRotation",value:function(e){var s=Math.sin(e),r=Math.cos(e);return t.fromValues(r,0,-s,0,0,1,0,0,s,0,r,0,0,0,0,1)}},{key:"copy",value:function(t,e){t.values[0]=e.values[0],t.values[1]=e.values[1],t.values[2]=e.values[2],t.values[3]=e.values[3],t.values[4]=e.values[4],t.values[5]=e.values[5],t.values[6]=e.values[6],t.values[7]=e.values[7],t.values[8]=e.values[8],t.values[9]=e.values[9],t.values[10]=e.values[10],t.values[11]=e.values[11],t.values[12]=e.values[12],t.values[13]=e.values[13],t.values[14]=e.values[14],t.values[15]=e.values[15]}},{key:"multiply",value:function(t,a,b){var e=a.values[0],r=a.values[1],n=a.values[2],o=a.values[3],c=a.values[4],h=a.values[5],l=a.values[6],f=a.values[7],v=a.values[8],d=a.values[9],y=a.values[10],m=a.values[11],k=a.values[12],R=a.values[13],w=a.values[14],E=a.values[15],O=b.values[0],j=b.values[1],M=b.values[2],C=b.values[3];return t.values[0]=O*e+j*c+M*v+C*k,t.values[1]=O*r+j*h+M*d+C*R,t.values[2]=O*n+j*l+M*y+C*w,t.values[3]=O*o+j*f+M*m+C*E,O=b.values[4],j=b.values[5],M=b.values[6],C=b.values[7],t.values[4]=O*e+j*c+M*v+C*k,t.values[5]=O*r+j*h+M*d+C*R,t.values[6]=O*n+j*l+M*y+C*w,t.values[7]=O*o+j*f+M*m+C*E,O=b.values[8],j=b.values[9],M=b.values[10],C=b.values[11],t.values[8]=O*e+j*c+M*v+C*k,t.values[9]=O*r+j*h+M*d+C*R,t.values[10]=O*n+j*l+M*y+C*w,t.values[11]=O*o+j*f+M*m+C*E,O=b.values[12],j=b.values[13],M=b.values[14],C=b.values[15],t.values[12]=O*e+j*c+M*v+C*k,t.values[13]=O*r+j*h+M*d+C*R,t.values[14]=O*n+j*l+M*y+C*w,t.values[15]=O*o+j*f+M*m+C*E,t}},{key:"perspective",value:function(e,r,n,o){var c=1/Math.tan(e/2),h=[c/r,0,0,0,0,c,0,0,0,0,0,-1,0,0,0,0];if(null!=o&&o!==1/0){var l=1/(n-o);h[10]=(o+n)*l,h[14]=2*o*n*l}else h[10]=-1,h[14]=-2*n;return new t(h)}}]),t}()),ae=function(){function t(){Object(k.a)(this,t),this.uid=re(),this.matrix=new ie,this.centroid=G.fromValues(0,0,0)}return Object(R.a)(t,[{key:"translate",value:function(t,e,r){this.matrix.translate(t,e,r)}},{key:"rotate",value:function(t,e,r,n){this.matrix.rotate(t,e,r,n)}},{key:"scale",value:function(t,e,r){this.matrix.scale(t,e,r)}},{key:"setColor",value:function(t){this.color=t}}]),t}();function ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var oe=function(t){Object(w.a)(r,t);var e=ne(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(k.a)(this,r),(t=e.call(this)).setObjects(n),t}return Object(R.a)(r,[{key:"setObjects",value:function(t){this.objects=t}},{key:"addObject",value:function(object){this.objects.push(object)}},{key:"setCentroid",value:function(t){this.centroid=t}}]),r}(ae),ce=Math.sqrt(3),ue=Math.atan(Zt(15)),he=Zt(30),le=(Zt(36),Zt(60)),fe=(Zt(72),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:et,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.7;Object(k.a)(this,t),this.scheme=o,this.sideLength=c,this.halfSide=this.sideLength/2,this.halfEdgePiece=this.halfSide*ue,this.layerWidth=this.halfSide-this.halfEdgePiece,this.middleWidth=this.sideLength-2*this.layerWidth,this.halfMiddleWidth=this.middleWidth/2,this.borderLayerWidth=.2*this.sideLength,this.outerHalfSide=(c+this.borderLayerWidth)/2,this.outerHalfEdgePiece=this.outerHalfSide*ue,this.pieces=this.buildSquare1(e,r,n),this.group=new oe(this.pieces)}return Object(R.a)(t,[{key:"makeLayer",value:function(t){var e=this,r=[],n=Math.PI;return t.forEach((function(t,o){switch(t.type){case F.CORNER:var c=e.square1Corner(t.colors[0],t.colors[1],t.colors[2]);c.rotate(n,0,0,1),r.push(c),n-=le;break;case F.EDGE:var h=e.square1Edge(t.colors[0],t.colors[1]);h.rotate(n-le,0,0,1),r.push(h),n-=he}})),r}},{key:"setColors",value:function(t){}}]),t}()),ve=(r(2),r(80),r(81),function(){function t(e,r,n){Object(k.a)(this,t),this.indices=e,this.color=n,this.uid=re(),r&&this.calculateCentroid(r)}return Object(R.a)(t,[{key:"calculateCentroid",value:function(t){var e=this;this.centroid=$t(t.filter((function(t,i){return e.indices.includes(i)})))}}]),t}());function de(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var be=function(t){Object(w.a)(r,t);var e=de(r);function r(t,n){var o;return Object(k.a)(this,r),(o=e.call(this)).vertices=t,o.faces=n,o.centroid=$t(o.vertices),o}return Object(R.a)(r)}(ae);function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var pe=function(t){Object(w.a)(r,t);var e=ye(r);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:et,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.7;return Object(k.a)(this,r),e.call(this,t,n,o,c,h)}return Object(R.a)(r,[{key:"square1Corner",value:function(t,e,r){var n=[G.fromValues(0,0,0),G.fromValues(this.halfSide,this.halfEdgePiece,0),G.fromValues(this.halfSide,this.halfSide,0),G.fromValues(this.halfEdgePiece,this.halfSide,0),G.fromValues(this.outerHalfSide,this.outerHalfEdgePiece,0),G.fromValues(this.outerHalfSide,this.outerHalfSide,0),G.fromValues(this.outerHalfEdgePiece,this.outerHalfSide,0)],o=[new ve([0,1,2,3],n,t),new ve([2,3,6,5],n,e),new ve([1,2,5,4],n,r)];return new be(n,o)}},{key:"square1Edge",value:function(t,e){var r=[G.fromValues(0,0,0).rotateZ(G.fromValues(0,0,0),he),G.fromValues(this.halfEdgePiece,this.halfSide,0).rotateZ(G.fromValues(0,0,0),he),G.fromValues(-this.halfEdgePiece,this.halfSide,0).rotateZ(G.fromValues(0,0,0),he),G.fromValues(this.outerHalfEdgePiece,this.outerHalfSide,0).rotateZ(G.fromValues(0,0,0),he),G.fromValues(-this.outerHalfEdgePiece,this.outerHalfSide,0).rotateZ(G.fromValues(0,0,0),he)],n=[new ve([0,1,2],r,t),new ve([1,2,4,3],r,e)];return new be(r,n)}},{key:"square1Middle",value:function(t,e,r,n){var o=this.halfSide-this.halfEdgePiece,c=(this.sideLength-2*o)/2,h=this.outerHalfSide-this.outerHalfEdgePiece,l=[G.fromValues(-this.outerHalfSide,c,-.01),G.fromValues(-this.outerHalfEdgePiece,c,-.01),G.fromValues(this.outerHalfSide,c,-.01),G.fromValues(-this.outerHalfSide,-c,-.01),G.fromValues(-this.outerHalfEdgePiece,-c,-.01),G.fromValues(this.outerHalfSide,-c,-.01),G.fromValues(2*this.outerHalfEdgePiece,c,-.01),G.fromValues(2*this.outerHalfEdgePiece,-c,-.01),G.fromValues(2*h,c,-.01),G.fromValues(2*h,-c,-.01)],f=[new ve([0,1,4,3],l,t)];return n?(f.push(new ve([1,6,7,4],l,r)),f.push(new ve([6,8,9,7],l,e))):f.push(new ve([1,2,5,4],l,t)),new be(l,f)}},{key:"buildSquare1",value:function(t,e,r){var n=this.halfSide-this.halfEdgePiece,o=(this.sideLength-2*n)/2,c=[],h=new oe(this.makeLayer(t)),l=new oe(this.makeLayer(e));h.translate(0,this.outerHalfSide+o,0),l.translate(0,-(this.outerHalfSide+o),0),l.rotate(he,0,0,1),c=[h,l];var f=this.scheme.front||et.front,v=this.scheme.left||et.left,d=this.scheme.back||et.back,y=this.square1Middle(f,v,d,r);return this.faces={top:h,bottom:l},c.push(y),c}}]),r}(fe);function me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var ke={value:"#333",stroke:"#333"},ge=function(t){Object(w.a)(r,t);var e=me(r);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:it,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:et,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.25;return Object(k.a)(this,r),e.call(this,t,n,o,c,h)}return Object(R.a)(r,[{key:"square1Corner",value:function(t,e,r){var n=[G.fromValues(0,0,this.halfSide),G.fromValues(this.halfSide,this.halfEdgePiece,this.halfSide),G.fromValues(this.halfSide,this.halfSide,this.halfSide),G.fromValues(this.halfEdgePiece,this.halfSide,this.halfSide),G.fromValues(0,0,this.halfSide-this.layerWidth),G.fromValues(this.halfSide,this.halfEdgePiece,this.halfSide-this.layerWidth),G.fromValues(this.halfSide,this.halfSide,this.halfSide-this.layerWidth),G.fromValues(this.halfEdgePiece,this.halfSide,this.halfSide-this.layerWidth)],o=[new ve([0,1,2,3],n,t),new ve([4,5,6,7],n,ke),new ve([0,1,5,4],n,ke),new ve([2,3,7,6],n,e),new ve([1,2,6,5],n,r),new ve([0,3,7,4],n,ke)],c=G.fromValues(this.halfSide/2,this.halfSide/2,this.halfSide/2);return o[1].centroid=c,o[2].centroid=c,o[5].centroid=c,new be(n,o)}},{key:"square1Edge",value:function(t,e){var r=[G.fromValues(0,0,this.halfSide).rotateZ(G.fromValues(0,0,0),he),G.fromValues(this.halfEdgePiece,this.halfSide,this.halfSide).rotateZ(G.fromValues(0,0,0),he),G.fromValues(-this.halfEdgePiece,this.halfSide,this.halfSide).rotateZ(G.fromValues(0,0,0),he),G.fromValues(0,0,this.halfSide-this.layerWidth).rotateZ(G.fromValues(0,0,0),he),G.fromValues(this.halfEdgePiece,this.halfSide,this.halfSide-this.layerWidth).rotateZ(G.fromValues(0,0,0),he),G.fromValues(-this.halfEdgePiece,this.halfSide,this.halfSide-this.layerWidth).rotateZ(G.fromValues(0,0,0),he)],n=[new ve([0,1,2],r,t),new ve([3,4,5],r,ke),new ve([1,2,5,4],r,e),new ve([0,1,4,3],r,ke),new ve([0,2,5,3],r,ke)],o=G.fromValues(0,this.halfSide/2,this.halfSide/2).rotateZ(G.fromValues(0,0,0),he);return n[1].centroid=o,n[3].centroid=o,n[4].centroid=o,new be(r,n)}},{key:"square1Middle",value:function(t,e,r){var n=[G.fromValues(-this.halfSide,-this.halfSide,this.halfMiddleWidth),G.fromValues(-this.halfSide,this.halfSide,this.halfMiddleWidth),G.fromValues(this.halfEdgePiece,this.halfSide,this.halfMiddleWidth),G.fromValues(-this.halfEdgePiece,-this.halfSide,this.halfMiddleWidth),G.fromValues(-this.halfSide,-this.halfSide,-this.halfMiddleWidth),G.fromValues(-this.halfSide,this.halfSide,-this.halfMiddleWidth),G.fromValues(this.halfEdgePiece,this.halfSide,-this.halfMiddleWidth),G.fromValues(-this.halfEdgePiece,-this.halfSide,-this.halfMiddleWidth)],o=[new ve([0,1,2,3],n,{value:"#333"}),new ve([4,5,6,7],n,{value:"#333"}),new ve([0,1,5,4],n,e),new ve([1,2,6,5],n,r),new ve([0,3,7,4],n,t)],c=G.fromValues(-this.halfSide/2,0,0);return o[0].centroid=c,o[1].centroid=c,o[2].centroid=G.fromValues(-(this.halfSide+.45*this.halfSide),0,0),new be(n,o)}},{key:"buildSquare1",value:function(t,e,r){var n=new oe(this.makeLayer(t)),o=new oe(this.makeLayer(e));o.rotate(Math.PI,1,0,0),o.rotate(he,0,0,1);var c=[n,o],h=this.scheme.front||et.front,l=this.scheme.left||et.left,f=this.scheme.back||et.back,v=this.scheme.right||et.right,d=this.square1Middle(h,l,f),y=this.square1Middle(f,v,h);return y.rotate(Math.PI,0,0,1),r&&y.rotate(Math.PI,H.x,H.y,H.z),c.push(d),c.push(y),this.faces={top:n,bottom:o},c}}]),r}(fe);function Re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var we=function(t){Object(w.a)(r,t);var e=Re(r);function r(t,n,o){Object(k.a)(this,r);var c=[G.fromValues(0,0,0),G.fromValues(t,0,0),G.fromValues(t,-n,0),G.fromValues(0,-n,0)],h=[new ve([0,1,2,3],c,o)];return e.call(this,c,h)}return Object(R.a)(r)}(be);function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var Oe=function(t){Object(w.a)(r,t);var e=Ee(r);function r(a,b,t,n){Object(k.a)(this,r);var o=[a,b,t],c=[new ve([0,1,2],o,n)];return e.call(this,o,c)}return Object(R.a)(r)}(be),je=function(){function t(){Object(k.a)(this,t);var e=Math.sqrt(2*Math.pow(.5,2)),r=new oe(this.makeStickers(L,e,G.fromValues(-1,0,0))),n=new oe(this.makeStickers(P,e,G.fromValues(2,0,0))),o=new oe(this.makeStickers(x,e,G.fromValues(0,-1,0))),c=new oe(this.makeStickers(I,e,G.fromValues(1,0,0))),h=new oe(this.makeStickers(T,e,G.fromValues(0,1,0))),l=new oe(this.makeStickers(S,e,G.fromValues(0,0,0)));this.U=h,this.R=c,this.F=l,this.L=r,this.B=n,this.D=o,this.faces={top:this.U,front:this.F,right:this.R,back:this.B,left:this.L,bottom:this.D},this.stickers=[c,h,l,r,n,o],this.group=new oe(this.stickers),this.group.translate(-1/4,0,0),this.group.scale(.5,.5,.5)}return Object(R.a)(t,[{key:"makeStickers",value:function(t,e,r){var n=new we(e,e,t);n.translate(r.x,r.y,r.z),n.rotate(Math.PI/4,0,0,1),n.translate(-e/2,e/2,0);for(var o=[],i=0;i<4;i++){var c=new Oe(G.fromValues(-e/2,e/2,0),G.fromValues(0,e,0),G.fromValues(e/2,e/2,0),t);c.translate(r.x,r.y,r.z),c.rotate(-Math.PI/2*i,0,0,1),c.rotate(Math.PI/4,0,0,1),o.push(c)}return[n].concat(o)}},{key:"setColors",value:function(t){var e=t.top,r=t.right,n=t.front,o=t.bottom,c=t.left,h=t.back;this.setFaceColors(this.U,e),this.setFaceColors(this.R,r),this.setFaceColors(this.F,n),this.setFaceColors(this.D,o),this.setFaceColors(this.L,c),this.setFaceColors(this.B,h)}},{key:"setFaceColors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.objects[0].faces[0].color=e[0]||_,t.objects[1].faces[0].color=e[1]||_,t.objects[2].faces[0].color=e[2]||_,t.objects[3].faces[0].color=e[4]||_,t.objects[4].faces[0].color=e[3]||_}}]),t}(),Me=function(){function t(){Object(k.a)(this,t);var e=Math.sqrt(2*Math.pow(.625,2)),r=.625,n=new oe(this.makeStickers(I,e)),o=new oe(this.makeStickers(T,e,G.fromValues(1,0,0))),c=new oe(this.makeStickers(S,e,G.fromValues(0,1,0))),h=new oe(this.makeStickers(L,e)),l=new oe(this.makeStickers(P,e,G.fromValues(0,1,0))),f=new oe(this.makeStickers(x,e,G.fromValues(1,0,0)));this.U=o,this.R=n,this.F=c,this.L=h,this.B=l,this.D=f,this.faces={top:this.U,front:this.F,right:this.R,back:this.B,left:this.L,bottom:this.D},n.translate(0,0,r),n.rotate(Math.PI,1,0,0),n.rotate(Math.PI/2,0,0,1),h.rotate(-Math.PI/2,0,0,1),h.translate(0,0,-.625),c.rotate(-Math.PI/2,1,0,0),c.translate(-.625,0,0),l.translate(r,0,0),l.rotate(Math.PI,0,1,0),l.rotate(-Math.PI/2,1,0,0),o.rotate(Math.PI,0,1,0),o.translate(0,r,0),f.translate(0,-.625,0),f.rotate(Math.PI,1,0,0),this.stickers=[n,o,c,h,l,f],this.group=new oe(this.stickers)}return Object(R.a)(t,[{key:"makeStickers",value:function(t,e,r){var n=new we(e,e,t);r&&n.rotate(Math.PI/2,r.x,r.y,r.z),n.rotate(Math.PI/4,0,0,1),n.translate(-e/2,e/2,0);for(var o=[],i=0;i<4;i++){var c=new Oe(G.fromValues(-e/2,e/2,0),G.fromValues(0,e,0),G.fromValues(e/2,e/2,0),t);r&&c.rotate(Math.PI/2,r.x,r.y,r.z),c.rotate(Math.PI/2*i,0,0,1),c.rotate(Math.PI/4,0,0,1),o.push(c)}return[n].concat(o)}},{key:"setColors",value:function(t){var e=t.top,r=t.right,n=t.front,o=t.bottom,c=t.left,h=t.back;this.setFaceColors(this.U,e),this.setFaceColors(this.R,r),this.setFaceColors(this.F,n),this.setFaceColors(this.D,o),this.setFaceColors(this.L,c),this.setFaceColors(this.B,h)}},{key:"setFaceColors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.objects[0].faces[0].color=e[0]||_,t.objects[1].faces[0].color=e[1]||_,t.objects[2].faces[0].color=e[2]||_,t.objects[3].faces[0].color=e[4]||_,t.objects[4].faces[0].color=e[3]||_}}]),t}();function Ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var Fe=function(t){Object(w.a)(r,t);var e=Ce(r);function r(base,t,n){Object(k.a)(this,r);for(var o=base/2,c=base*(ce/2),h=base/t,l=c/t,f=c/3,v=[],d=[],y=0,m=0;m<=t;m++)for(var R=0,w=t-m;R<=w;R++){var E=h*R+m*h/2+-o,O=l*m+-f;v.push(G.fromValues(E,O,0)),m>0&&(R>0&&d.push(new ve([y,y-1,y-w-2],null,n)),d.push(new ve([y,y-w-2,y-w-1],null,n))),y++}return d.forEach((function(t){return t.calculateCentroid(v)})),e.call(this,v,d)}return Object(R.a)(r)}(be),Be=60*Math.PI/180,Te=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.925;Object(k.a)(this,t),this.size=e;var n=r*(ce/2),o=n/1.5,c=.1*o,h=new Fe(r,e,T),l=new Fe(r,e,P),f=new Fe(r,e,S),v=new Fe(r,e,I);this.L=f,this.R=l,this.U=h,this.B=v,l.rotate(-Be,0,0,1),l.translate(0,o+c,0),l.rotate(2*Be,0,0,1),h.rotate(Be,0,0,1),h.translate(0,o+c,0),h.rotate(-2*Be,0,0,1),v.rotate(3*Be,0,0,1),v.translate(0,o+c,0),v.rotate(-2*Be,0,0,1),this.faces={top:this.U,right:this.R,left:this.L,back:this.B},this.group=new oe([h,l,f,v])}return Object(R.a)(t,[{key:"setColors",value:function(t){var e=t.left,r=t.right,n=t.top,o=t.back;this.setFaceColors(this.L,e),this.setFaceColors(this.R,r),this.setFaceColors(this.U,n),this.setFaceColors(this.B,o)}},{key:"setFaceColors",value:function(t,e){t.faces.forEach((function(t,i){e&&e[i]?t.color=e[i]:t.color=_}))}}]),t}(),Ie=Math.acos(1/3),Se=120*Math.PI/180,xe=Math.sqrt(24),Le=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.75;Object(k.a)(this,t),this.size=e;var n=r/xe,o=new Fe(r,e,T),c=new Fe(r,e,P),h=new Fe(r,e,S),l=new Fe(r,e,I);this.L=h,this.R=c,this.U=o,this.B=l,o.rotate(Se,0,0,1),o.rotate(Ie,1,0,0),o.translate(0,0,n),c.rotate(Ie,1,0,0),c.translate(0,0,n),h.rotate(-Se,0,0,1),h.rotate(Ie,1,0,0),h.translate(0,0,n),l.rotate(Math.PI,0,1,0),l.translate(0,0,n),this.faces={top:this.U,right:this.R,left:this.L,back:this.B},this.group=new oe([o,h,c,l])}return Object(R.a)(t,[{key:"setColors",value:function(t){var e=t.left,r=t.right,n=t.top,o=t.back;this.setFaceColors(this.L,e),this.setFaceColors(this.R,r),this.setFaceColors(this.U,n),this.setFaceColors(this.B,o)}},{key:"setFaceColors",value:function(t,e){t.faces.forEach((function(t,i){e&&e[i]?t.color=e[i]:t.color=_}))}}]),t}(),Pe=r(34);function ze(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var Ue=function(t){Object(w.a)(r,t);var e=ze(r);function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.6,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.4;Object(k.a)(this,r);var h=Qt(o),l=Ne(c),f=h-l*(n-1),v=Xe(n,f,l,c);return e.call(this,v,De(n,t,v))}return Object(R.a)(r)}(be);function Ne(t){var e=t*t,r=71*Math.PI/180,n=2*e-2*e*Math.cos(r);return 2*Math.sqrt(Math.abs(e-n))}function Ae(t){if(t<1)return[];for(var e=[],r=5+10*(t-1),n=5*(t-1)*(t-1),i=0;i<r;i++)e.push(i+n),i%(r/5)==0&&e.push(i+n);return e.push(e.shift()),e.push(e.shift()),e}function Ve(t){for(var e=5*t*t,r=[],i=0,n=5+10*t;i<n;i++)r.push(i+e);return r}function De(t,e,r){var n=[],o=new ve([0,1,2,3,4],r,e);n.push(o);for(var c=5,h=5,i=1;i<t;i++){var l=5+10*i;c+=l;for(var f=Ae(i),v=Ve(i-1),d=Ve(i);h<c;){var y=h-(v[v.length-1]+1);if(y%(l/5)==0)h++;else{var m=(y+1)%(l/5)==0,k=h,R=d[(y+1)%d.length],w=m?R+1:f.shift(),E=m?f.shift():v[(v.indexOf(w)-1+v.length)%v.length];h++,n.push(new ve([k,R,w,E],r,e))}}}return n}function _e(t,e,r,n){if(0===r)return[G.fromValues(t.x,t.y,0),G.fromValues(e.x,e.y,0)];for(var o=function(t,e){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}(t,e),c=[],i=r;i>0;i--){var a=G.fromValues(t.x+(e.x-t.x)/o*n*i,t.y+(e.y-t.y)/o*n*i,0);c.unshift(a);var b=G.fromValues(e.x+(t.x-e.x)/o*n*i,e.y+(t.y-e.y)/o*n*i,0);c.push(b)}return c.unshift(G.fromValues(t.x,t.y,0)),c.push(G.fromValues(e.x,e.y,0)),c}function We(t,e,r){for(var n=[],i=0;i<5;i++){var o=Kt(e,i*(2*Math.PI)/5-Math.PI/10);if(n.length>0){var c=n[n.length-1],h=_e(Y.fromValues(c.x,c.y),o,t,r);h.shift(),n=n.concat(h)}else n.push(G.fromValues(o.x,o.y,0))}var l=n[0],f=n[n.length-1],v=_e(Y.fromValues(f.x,f.y),Y.fromValues(l.x,l.y),t,r);return v.pop(),v.shift(),n=n.concat(v)}function Xe(t,e,r,n){for(var o=[],i=0;i<t;i++){var c=e+r*i;o=[].concat(Object(It.a)(o),Object(It.a)(We(i,c,n)))}return o}var Ge=36*Math.PI/180,Ye=72*Math.PI/180,qe={2:.3,3:.17,4:.121};var He=function(){function t(e){Object(k.a)(this,t),this.layers=e;var r=.75,n=function(t,e){return qe[e]||t/(1.9*e)}(length,e);this.U=new Ue(x,e,r,n),this.F=new Ue(I,e,r,n),this.R=new Ue(S,e,r,n),this.L=new Ue(P,e,r,n),this.dl=new Ue(A,e,r,n),this.dr=new Ue(D,e,r,n),this.BL=new Ue(z,e,r,n),this.BR=new Ue(T,e,r,n),this.d=new Ue(U,e,r,n),this.bl=new Ue(N,e,r,n),this.br=new Ue(V,e,r,n),this.b=new Ue(L,e,r,n);var o=2*function(t){return t/(2*Math.tan(Math.PI/5))}(r);this.U.translate(0,o,0),this.U.rotate(5*Ge,0,0,1),this.R.rotate(-Ye,0,0,1),this.R.translate(0,o,0),this.R.rotate(5*Ge,0,0,1),this.L.rotate(Ye,0,0,1),this.L.translate(0,o,0),this.L.rotate(-5*Ge,0,0,1),this.dl.rotate(2*Ye,0,0,1),this.dl.translate(0,o,0),this.dl.rotate(-5*Ge,0,0,1),this.dr.rotate(-2*Ye,0,0,1),this.dr.translate(0,o,0),this.dr.rotate(-5*Ge,0,0,1),this.b.rotate(Math.PI,0,0,1),this.b.rotate(-2*Ge,0,0,1),this.d.rotate(3*Ge,0,0,1),this.d.translate(0,o,0),this.d.rotate(5*Ge,0,0,1),this.br.rotate(Ge,0,0,1),this.br.translate(0,o,0),this.br.rotate(5*Ge,0,0,1),this.BR.rotate(-Ge,0,0,1),this.BR.translate(0,o,0),this.BR.rotate(-5*Ge,0,0,1),this.BL.rotate(-3*Ge,0,0,1),this.BL.translate(0,o,0),this.BL.rotate(5*Ge,0,0,1),this.bl.rotate(5*Ge,0,0,1),this.bl.translate(0,o,0),this.bl.rotate(-5*Ge,0,0,1);var c=new ie;c.rotate(-Ye,0,0,1),c.translate(0,2*o,0),c.rotate(2*Ye,0,0,1),c.translate(0,-o,0),[this.d,this.bl,this.BL,this.BR,this.br,this.b].forEach((function(t){ie.multiply(t.matrix,c,t.matrix)})),this.faces={U:this.U,F:this.F,R:this.R,dr:this.dr,dl:this.dl,L:this.L,d:this.d,br:this.br,BR:this.BR,BL:this.BL,bl:this.bl,b:this.b},this.group=new oe([this.U,this.F,this.L,this.dr,this.dl,this.R,this.d,this.bl,this.BL,this.BR,this.br,this.b]),this.group.scale(.33,.33,.33),this.group.translate(-1.3125,0,0)}return Object(R.a)(t,[{key:"setColors",value:function(t){var e=t.U,r=t.R,n=t.F,o=t.d,c=t.L,b=t.b,h=t.dr,dl=t.dl,br=t.br,l=t.BR,f=t.BL,v=t.bl;this.setFaceColors(this.U,e),this.setFaceColors(this.R,r),this.setFaceColors(this.F,n),this.setFaceColors(this.d,o),this.setFaceColors(this.L,c),this.setFaceColors(this.b,b),this.setFaceColors(this.dr,h),this.setFaceColors(this.dl,dl),this.setFaceColors(this.BR,l),this.setFaceColors(this.BL,f),this.setFaceColors(this.bl,v),this.setFaceColors(this.br,br)}},{key:"oldSetColors",value:function(t){var e,r,n,o=this.layers,c=(e=t,r=5*o*o-5*o+1,n=Math.ceil(e.length/r),new Array(n).fill(null).map((function(t,n){return e.slice(n*r,(n+1)*r)}))),h=Object(Pe.a)(c,12),l=h[0],f=h[1],v=h[2],d=h[3],dl=h[4],y=h[5],m=h[6],br=h[7],k=h[8],R=h[9],w=h[10],b=h[11];this.setFaceColors(this.U,l),this.setFaceColors(this.R,f),this.setFaceColors(this.F,v),this.setFaceColors(this.d,m),this.setFaceColors(this.L,y),this.setFaceColors(this.b,b),this.setFaceColors(this.dr,d),this.setFaceColors(this.dl,dl),this.setFaceColors(this.br,br),this.setFaceColors(this.BR,k),this.setFaceColors(this.BL,R),this.setFaceColors(this.bl,w)}},{key:"setFaceColors",value:function(t,e){t.faces.forEach((function(t,i){e&&e[i]?t.color=e[i]:t.color=_}))}}]),t}(),Ze={2:.3,3:.17,4:.121};function Ke(t,e){return Ze[e]||t/(1.9*e)}var Qe=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;Object(k.a)(this,t),this.layers=e;var r=.75,n=Jt(r),o=Ke(r,e);this.U=new Ue(x,e,r,o),this.F=new Ue(I,e,r,o),this.R=new Ue(S,e,r,o),this.dr=new Ue(D,e,r,o),this.dl=new Ue(A,e,r,o),this.L=new Ue(P,e,r,o),this.d=new Ue(U,e,r,o),this.br=new Ue(V,e,r,o),this.BR=new Ue(T,e,r,o),this.BL=new Ue(z,e,r,o),this.bl=new Ue(N,e,r,o),this.b=new Ue(L,e,r,o),this.F.translate(0,0,n),this.b.rotate(Math.PI,0,0,1),this.b.rotate(Math.PI,0,1,0),this.b.translate(0,0,n),this.U.rotate(Math.PI,0,0,1),this.U.rotate((180-116.57)*Math.PI/180,1,0,0),this.U.translate(0,0,n),this.L.rotate(72*Math.PI/180,0,0,1),this.L.rotate(Math.PI,0,0,1),this.L.rotate((180-116.57)*Math.PI/180,1,0,0),this.L.translate(0,0,n),this.R.rotate(72*Math.PI/180,0,0,1),this.R.rotate(Math.PI/5,0,0,1),this.R.rotate((180-116.57)*Math.PI/180,1,0,0),this.R.translate(0,0,n),this.dr.rotate(72*Math.PI/180,0,0,1),this.dr.rotate(-Math.PI/5,0,0,1),this.dr.rotate((180-116.57)*Math.PI/180,1,0,0),this.dr.translate(0,0,n),this.dl.rotate(72*Math.PI/180,0,0,1),this.dl.rotate(-3*Math.PI/5,0,0,1),this.dl.rotate((180-116.57)*Math.PI/180,1,0,0),this.dl.translate(0,0,n),this.BL.rotate(Math.PI/5,0,0,1),this.BL.rotate(-116.57*Math.PI/180,1,0,0),this.BL.translate(0,0,n),this.BR.rotate(-Math.PI/5,0,0,1),this.BR.rotate(-116.57*Math.PI/180,1,0,0),this.BR.translate(0,0,n),this.bl.rotate(3*Math.PI/5,0,0,1),this.bl.rotate(-116.57*Math.PI/180,1,0,0),this.bl.translate(0,0,n),this.d.rotate(5*Math.PI/5,0,0,1),this.d.rotate(-116.57*Math.PI/180,1,0,0),this.d.translate(0,0,n),this.br.rotate(7*Math.PI/5,0,0,1),this.br.rotate(-116.57*Math.PI/180,1,0,0),this.br.translate(0,0,n),this.stickers=[this.U,this.F,this.R,this.dr,this.dl,this.L,this.d,this.br,this.BR,this.BL,this.bl,this.b],this.faces={U:this.U,F:this.F,R:this.R,dr:this.dr,dl:this.dl,L:this.L,d:this.d,br:this.br,BR:this.BR,BL:this.BL,bl:this.bl,b:this.b},this.group=new oe(this.stickers)}return Object(R.a)(t,[{key:"setColors",value:function(t){var e=t.U,r=t.R,n=t.F,o=t.d,c=t.L,b=t.b,h=t.dr,dl=t.dl,br=t.br,l=t.BR,f=t.BL,v=t.bl;this.setFaceColors(this.U,e),this.setFaceColors(this.R,r),this.setFaceColors(this.F,n),this.setFaceColors(this.d,o),this.setFaceColors(this.L,c),this.setFaceColors(this.b,b),this.setFaceColors(this.dr,h),this.setFaceColors(this.dl,dl),this.setFaceColors(this.BR,l),this.setFaceColors(this.BL,f),this.setFaceColors(this.bl,v),this.setFaceColors(this.br,br)}},{key:"setFaceColors",value:function(t,e){t.faces.forEach((function(t,i){e&&e[i]?t.color=e[i]:t.color=_}))}}]),t}();function Je(t,e,r){for(var n=t/2,o=t/e,c=o/2,h=[],i=0;i<e;i++){var l=-(-n+c+o*i);h=h.concat($e(t,e,r,l))}return h}function $e(t,e,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=t/2,c=t/e,h=c/2,l=[],i=0;i<e;i++){var f=-o+h+c*i,v=[G.fromValues(-h+f,h+n,0),G.fromValues(h+f,h+n,0),G.fromValues(h+f,-h+n,0),G.fromValues(-h+f,-h+n,0)],d=[new ve([0,1,2,3],v,r)];l.push(new be(v,d))}return l}var ts=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.PI/4;Object(k.a)(this,t),this.size=e,this.cubeWidth=1.45,this.halfCubeWidth=this.cubeWidth/2,this.stickerWidth=this.cubeWidth/e,this.halfStickerWidth=this.stickerWidth/2,this.cubeWidth=this.stickerWidth*e,this.U=new oe(Je(this.cubeWidth,this.size,T)),this.R=new oe($e(this.cubeWidth,this.size,I)),this.F=new oe($e(this.cubeWidth,this.size,S)),this.B=new oe($e(this.cubeWidth,this.size,P)),this.L=new oe($e(this.cubeWidth,this.size,L));var n=this.halfCubeWidth+this.halfStickerWidth;this.B.translate(0,n,0),this.B.rotate(Math.PI,0,0,1),this.F.translate(0,-n,0),this.R.translate(n,0,0),this.R.rotate(Math.PI/2,0,0,1),this.L.translate(-n,0,0),this.L.rotate(-Math.PI/2,0,0,1),this.rotateBorder(this.F.objects,r),this.rotateBorder(this.R.objects,r),this.rotateBorder(this.B.objects,r),this.rotateBorder(this.L.objects,r),this.stickers=[this.U,this.R,this.F,this.B,this.L],this.group=new oe(this.stickers),this.faces={U:this.U,R:this.R,F:this.F,L:this.L,B:this.B}}return Object(R.a)(t,[{key:"setFaceColors",value:function(t,e){t.objects.forEach((function(g,i){e&&e[i]?g.faces[0].color=e[i]:g.faces[0].color=_}))}},{key:"setColors",value:function(t){var e=t.U,r=t.R,n=t.F,o=t.L,c=t.B;this.setFaceColors(this.U,e),this.setFaceColors(this.R,r),this.setFaceColors(this.F,n),this.setFaceColors(this.L,o),this.setFaceColors(this.B,c)}},{key:"rotateBorder",value:function(t,e){var r=this;t.forEach((function(t){t.vertices=t.vertices.map((function(t){return t.rotateX(G.fromValues(0,r.halfStickerWidth,0),e)})),t.centroid=$t(t.vertices)}))}}]),t}(),es=function(){function t(e){Object(k.a)(this,t);this.size=e;var r=Je(1,e,T),n=Je(1,e,I),o=Je(1,e,S),c=Je(1,e,x),h=Je(1,e,L),l=Je(1,e,P);this.U=new oe(r),this.U.translate(0,1,0),this.R=new oe(n),this.R.translate(1,0,0),this.F=new oe(o),this.D=new oe(c),this.D.translate(0,-1,0),this.L=new oe(h),this.L.translate(-1,0,0),this.B=new oe(l),this.B.translate(2,0,0),this.stickers=[this.U,this.R,this.F,this.D,this.L,this.B],this.faces={U:this.U,R:this.R,F:this.F,D:this.D,L:this.L,B:this.B},this.group=new oe(this.stickers),this.group.translate(-1/4,0,0),this.group.scale(.5,.5,.5)}return Object(R.a)(t,[{key:"setFaceColors",value:function(t,e){t.objects.forEach((function(g,i){e&&e[i]?g.faces[0].color=e[i]:g.faces[0].color=_}))}},{key:"setColors",value:function(t){var e=t.U,r=t.R,n=t.F,o=t.D,c=t.L,h=t.B;this.setFaceColors(this.U,e),this.setFaceColors(this.R,r),this.setFaceColors(this.F,n),this.setFaceColors(this.D,o),this.setFaceColors(this.L,c),this.setFaceColors(this.B,h)}}]),t}(),ss=function(){function t(e){Object(k.a)(this,t),this.size=e;var r=1.25,n=.625;this.U=new oe(Je(r,e,T)),this.R=new oe(Je(r,e,I)),this.F=new oe(Je(r,e,S)),this.D=new oe(Je(r,e,x)),this.L=new oe(Je(r,e,L)),this.B=new oe(Je(r,e,P)),this.U.rotate(-Math.PI/2,0,1,0),this.U.rotate(-Math.PI/2,1,0,0),this.U.translate(0,0,n),this.R.translate(0,0,n),this.F.rotate(-Math.PI/2,0,1,0),this.F.translate(0,0,n),this.D.rotate(-Math.PI/2,0,1,0),this.D.rotate(Math.PI/2,1,0,0),this.D.translate(0,0,n),this.L.rotate(-Math.PI,0,1,0),this.L.translate(0,0,n),this.B.rotate(Math.PI/2,0,1,0),this.B.translate(0,0,n),this.stickers=[this.U,this.R,this.F,this.D,this.L,this.B],this.faces={U:this.U,R:this.R,F:this.F,D:this.D,L:this.L,B:this.B},this.group=new oe(this.stickers)}return Object(R.a)(t,[{key:"setFaceColors",value:function(t,e){t.objects.forEach((function(g,i){e&&e[i]?g.faces[0].color=e[i]:g.faces[0].color=_}))}},{key:"setColors",value:function(t){var e=t.U,r=t.R,n=t.F,o=t.D,c=t.L,h=t.B;this.setFaceColors(this.U,e),this.setFaceColors(this.R,r),this.setFaceColors(this.F,n),this.setFaceColors(this.D,o),this.setFaceColors(this.L,c),this.setFaceColors(this.B,h)}}]),t}();r(83);function rs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var is=function(t){Object(w.a)(r,t);var e=rs(r);function r(t,n){var o;return Object(k.a)(this,r),(o=e.call(this)).p1=t,o.p2=n,o.centroid=$t([t,n]),o}return Object(R.a)(r)}(ae);function as(t,e){var r=t.clone();return e.forEach((function(t,i){r.transformMat4(t)})),r}var ns=function(){function t(){Object(k.a)(this,t),this.polygons=[],this.arrows=[]}return Object(R.a)(t,[{key:"render",value:function(t,e){var r=this;this.polygons=[],t.objects.forEach((function(object){r.renderObject3D(object,e,[])})),this.onBeforeRender(),this.renderPolygons(),this.renderArrows(),this.onComplete()}},{key:"renderPolygons",value:function(){var t=this;this.polygons.sort((function(a,b){return a.centroid.z-b.centroid.z})),this.polygons.forEach((function(p){return t.drawPolygon(p)}))}},{key:"renderArrows",value:function(){var t=this;this.arrows.forEach((function(e){var r=e.p1,n=e.p2,o=e.uid;t.drawArrow(r,n,o)}))}},{key:"renderObject3D",value:function(object,t,e){var r=this;if(object instanceof be)this.renderGeometry(object,t,e);else if(object instanceof is)this.renderArrow(object,t,e);else if(object instanceof oe){var n=object;n.objects.forEach((function(object){r.renderObject3D(object,t,[n.matrix].concat(Object(It.a)(e)))}))}}},{key:"renderGeometry",value:function(object,t,e){var r=this;object.faces.forEach((function(n){var o=[];n.indices.map((function(t){return object.vertices[t]})).forEach((function(r){var n=as(r,[object.matrix].concat(Object(It.a)(e),[t.matrix]));n.multiply(1,-1,1),o.push(n)})),r.addPolygon(o,n,object,e)}))}},{key:"renderArrow",value:function(object,t,e){var r=[object.matrix].concat(Object(It.a)(e),[t.matrix]),n=as(object.p1,r),o=as(object.p2,r);this.arrows.push({p1:n,p2:o,uid:object.uid})}},{key:"addPolygon",value:function(t,e,object,r){this.polygons.push({points:t,face:e,object:object,centroid:as(e.centroid,[object.matrix].concat(Object(It.a)(r)))})}},{key:"sortObjects",value:function(t,e,r){var n=Object(It.a)(t);return n.sort((function(a,b){var t=[a.matrix].concat(Object(It.a)(r)),e=[b.matrix].concat(Object(It.a)(r)),n=as(a.centroid,t),o=as(b.centroid,e);return n.z-o.z})),n}}]),t}();function os(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var cs,us=function(t){Object(w.a)(r,t);var e=os(r);function r(t,n){var o,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_;return Object(k.a)(this,r),(o=e.call(this)).width=t,o.height=n,o.lineWidth=c,o.arrowColor=h,o.domElement=document.createElement("div"),o.domElement.className="canvas-renderer",o.canvasElement=document.createElement("canvas"),o.domElement.appendChild(o.canvasElement),o.canvasElement.width=t,o.canvasElement.height=n,o.ctx=o.canvasElement.getContext("2d"),o}return Object(R.a)(r,[{key:"convertRange",value:function(t,e){return(t- -.9)/1.8*e}},{key:"onBeforeRender",value:function(){this.ctx.clearRect(0,0,this.width,this.height)}},{key:"drawPolygon",value:function(polygon){var t,e;this.ctx.lineWidth=this.lineWidth,this.ctx.lineJoin="round",this.ctx.fillStyle=(null===(e=null===(t=null==polygon?void 0:polygon.face)||void 0===t?void 0:t.color)||void 0===e?void 0:e.value)||"#000000",this.ctx.strokeStyle="#000000",this.ctx.moveTo(this.convertRange(polygon.points[0].x,this.width),this.convertRange(polygon.points[0].y,this.height)),this.ctx.beginPath();for(var i=0;i<=polygon.points.length;i++){var r=polygon.points[(i+1)%polygon.points.length];this.ctx.lineTo(this.convertRange(r.x,this.width),this.convertRange(r.y,this.height))}this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()}},{key:"drawArrow",value:function(t,e,r){var n=this.convertRange(e.x,this.width),o=this.convertRange(-e.y,this.height),c=this.convertRange(t.x,this.width),h=this.convertRange(-t.y,this.height),l=n-c,f=o-h,v=Math.atan2(f,l);this.ctx.strokeStyle=this.arrowColor.value,this.ctx.beginPath(),this.ctx.moveTo(c,h),this.ctx.lineTo(n,o),this.ctx.lineTo(n-20*Math.cos(v-Math.PI/6),o-20*Math.sin(v-Math.PI/6)),this.ctx.moveTo(n,o),this.ctx.lineTo(n-20*Math.cos(v+Math.PI/6),o-20*Math.sin(v+Math.PI/6)),this.ctx.stroke()}},{key:"setLineWidth",value:function(t){this.lineWidth=t}},{key:"onComplete",value:function(){}}]),r}(ns),hs=Object(R.a)((function t(){Object(k.a)(this,t),this.matrix=ie.perspective(Math.PI/2,1,.1,1e3),this.matrix.translate(0,0,-5),this.matrix.scale(4,4,1)})),ls=function(){function t(){Object(k.a)(this,t),this.objects=[]}return Object(R.a)(t,[{key:"add",value:function(t){this.objects.push(t)}},{key:"clear",value:function(){this.objects=[]}}]),t}();r(5);!function(t){t.CUBE="cube",t.CUBE_NET="cube-net",t.CUBE_TOP="cube-top",t.MEGAMINX="megaminx",t.MEGAMINX_NET="megaminx-net",t.MEGAMINX_TOP="megaminx-top",t.PYRAMINX="pyraminx",t.PYRAMINX_NET="pyraminx-net",t.SKEWB="skewb",t.SKEWB_NET="skewb-net",t.SQUARE1="square1",t.SQUARE1_NET="square1-net"}(cs||(cs={}));var fs={size:3,scheme:{U:T,R:I,F:S,D:x,L:L,B:P},rotations:[{x:0,y:45,z:0},{x:34,y:0,z:0}]},vs={size:2,scheme:{U:x,F:I,R:S,dr:D,dl:A,L:P,d:U,br:V,BR:T,BL:z,bl:N,b:L}},ds={size:3,scheme:{left:S,right:P,top:T,back:I},rotations:[{x:0,y:0,z:60},{x:-60,y:0,z:0}]},bs={scheme:{top:T,front:S,right:I,back:P,left:L,bottom:x},rotations:[{x:0,y:45,z:0},{x:34,y:0,z:0}]},ys={scheme:et,rotations:[{x:0,y:0,z:-34},{x:-56,y:0,z:0}]};var ps=r(43);r(289),r(222),r(290);function ms(t){if(t.alg&&"string"!=typeof t.alg&&(console.warn("Inavlid alg ".concat(t.alg,". alg must be a string")),t.alg=""),t.case&&"string"!=typeof t.case&&(console.warn("Inavlid case ".concat(t.case,". case must be a string")),t.case=""),t.scheme&&("object"!==Object(ps.a)(t.scheme)||Array.isArray(t.scheme)?(console.warn("Invalid scheme ".concat(t.scheme,". scheme must be an object")),t.scheme={}):Object.keys(t.scheme).forEach((function(e){var r=t.scheme[e];null!=r&&"object"===Object(ps.a)(r)&&r.value||(console.warn("Invalid scheme color ".concat(r,". must be an type IColor")),t.scheme[e]=_)}))),t.mask&&("object"!==Object(ps.a)(t.mask)||Array.isArray(t.mask)?(console.warn("Invalid mask ".concat(t.mask,". scheme must be an object")),t.mask={}):Object.keys(t.mask).forEach((function(e){var r=t.mask[e];if(Array.isArray(r)){for(var i=0;i<r.length;i++)if(!Number.isInteger(r[i])){console.warn("Invalid mask value ".concat(r[i],". must be a number")),t.mask[e]=[];break}}else console.warn("Invalid mask ".concat(r,". must be an array")),t.mask[e]=[]}))),t.stickerColors&&("object"!==Object(ps.a)(t.stickerColors)||Array.isArray(t.stickerColors)?(console.warn("Invalid stickerColors ".concat(t.stickerColors,". stickerColors must be an object")),t.stickerColors={}):Object.keys(t.stickerColors).forEach((function(e){var r=t.stickerColors[e];if(Array.isArray(r)){for(var i=0;i<r.length;i++)if(!ks(r[i])){t.stickerColors[e]=[];break}}else console.warn("Invalid colors ".concat(r,". must be an array")),t.stickerColors[e]=[]}))),t.rotations)if(Array.isArray(t.rotations)){for(var i=0;i<t.rotations.length;i++)if(!gs(t.rotations[i])){t.rotations=[];break}}else console.warn("invalid rotations ".concat(t.rotations,", must be an array")),t.rotations=[];if(t.scale&&!Number.isFinite(t.scale)&&(console.warn("invalid scale ".concat(t.scale,", must be a finite number")),t.scale=1),t.translation&&!function(t){if("object"!==Object(ps.a)(t)||Array.isArray(t))return console.warn("invalid translation ".concat(t,", must be an object")),!1;if(t.x&&!Number.isFinite(t.x))return console.warn("invalid x translation ".concat(t.x,", must be a number")),!1;if(t.y&&!Number.isFinite(t.y))return console.warn("invalid y translation ".concat(t.y,", must be a number")),!1;if(t.z&&!Number.isFinite(t.z))return console.warn("invalid z translation ".concat(t.z,", must be a number")),!1;return!0}(t.translation)&&(t.translation={x:0,y:0,z:0}),t.arrows)if(Array.isArray(t.arrows)){for(var e=0;e<t.arrows.length;e++)if(!Rs(t.arrows[e])){t.arrows=[];break}}else console.warn("invalid arrows, must be an array"),t.arrows=[]}function ks(t){return"object"!==Object(ps.a)(t)?(console.warn("invalid color ".concat(t,", must be type object")),!1):t.value&&"string"==typeof t.value?!t.stroke||"string"==typeof t.stroke||(console.warn("invalid color stroke ".concat(t.stroke,", must be type string")),!1):(console.warn("invalid color value ".concat(t.value,", must be type string")),!1)}function gs(t){return t&&"object"===Object(ps.a)(t)?t.x&&!Number.isFinite(t.x)?(console.warn("invalid x rotation ".concat(t.x,", must be a number")),!1):t.y&&!Number.isFinite(t.y)?(console.warn("invalid y rotation ".concat(t.y,", must be a number")),!1):!(t.z&&!Number.isFinite(t.z))||(console.warn("invalid z rotation ".concat(t.z,", must be a number")),!1):(console.warn("invalid rotation ".concat(t,", must be an object")),!1)}function Rs(a){return"object"!==Object(ps.a)(a)?(console.warn("invalid arrow ".concat(a,", must be an object")),!1):"object"!==Object(ps.a)(a.end)||"object"!==Object(ps.a)(a.start)?(console.warn("invalid arrow ".concat(a,", must have start and end")),!1):"string"==typeof a.start.face&&Number.isInteger(a.start.sticker)?!("string"!=typeof a.end.face||!Number.isInteger(a.end.sticker))||(console.warn("invalid arrow end ".concat(a.end)),!1):(console.warn("invalid arrow start ".concat(a.start)),!1)}var ws={2:.3,3:.17,4:.121};var Es,Os=function(){function t(){Object(k.a)(this,t),this.createFaces(),this.removeHiddenStickers()}return Object(R.a)(t,[{key:"createFaces",value:function(){var t=.75,e=function(t,e){return ws[e]||t/(1.9*e)}(t,2),r=Jt(t);this.U=new Ue(x,2,t,e),this.F=new Ue(I,2,t,e),this.R=new Ue(S,2,t,e),this.L=new Ue(P,2,t,e),this.BR=new Ue(T,2,t,e),this.BL=new Ue(z,2,t,e),this.F.translate(0,0,r),this.U.rotate(Math.PI,0,0,1),this.U.rotate((180-116.57)*Math.PI/180,1,0,0),this.U.translate(0,0,r),this.L.rotate(72*Math.PI/180,0,0,1),this.L.rotate(Math.PI,0,0,1),this.L.rotate((180-116.57)*Math.PI/180,1,0,0),this.L.translate(0,0,r),this.R.rotate(72*Math.PI/180,0,0,1),this.R.rotate(Math.PI/5,0,0,1),this.R.rotate((180-116.57)*Math.PI/180,1,0,0),this.R.translate(0,0,r),this.BL.rotate(Math.PI/5,0,0,1),this.BL.rotate(-116.57*Math.PI/180,1,0,0),this.BL.translate(0,0,r),this.BR.rotate(-Math.PI/5,0,0,1),this.BR.rotate(-116.57*Math.PI/180,1,0,0),this.BR.translate(0,0,r),this.faces={U:this.U,F:this.F,R:this.R,dr:this.BR,dl:this.BL,L:this.L},this.group=new oe([this.U,this.F,this.R,this.BR,this.BL,this.L]),this.group.rotate(Zt(63),1,0,0)}},{key:"setColors",value:function(t){var e=t.U,r=t.R,n=t.F,o=t.L,c=t.BR,h=t.BL;this.createFaces(),this.setFaceColors(this.U,e),this.setFaceColors(this.R,r),this.setFaceColors(this.F,n),this.setFaceColors(this.L,o),this.setFaceColors(this.BR,c),this.setFaceColors(this.BL,h),this.removeHiddenStickers()}},{key:"setFaceColors",value:function(t,e){t.faces.forEach((function(t,i){e&&e[i]?t.color=e[i]:t.color=_}))}},{key:"removeHiddenStickers",value:function(){this.F.faces=this.F.faces.slice(2,5),this.BL.faces=this.BL.faces.slice(8,11),this.L.faces=this.L.faces.slice(4,7),this.R.faces=[this.R.faces[1],this.R.faces[2],this.R.faces[10]],this.BR.faces=this.BR.faces.slice(6,9)}}]),t}(),js=(Es={},Object(j.a)(Es,cs.CUBE,{}),Object(j.a)(Es,cs.CUBE_NET,{}),Object(j.a)(Es,cs.CUBE_TOP,{}),Object(j.a)(Es,cs.MEGAMINX,{}),Object(j.a)(Es,cs.MEGAMINX_NET,{}),Object(j.a)(Es,cs.MEGAMINX_TOP,{}),Object(j.a)(Es,cs.PYRAMINX,{}),Object(j.a)(Es,cs.PYRAMINX_NET,{}),Object(j.a)(Es,cs.SKEWB,{}),Object(j.a)(Es,cs.SKEWB_NET,{}),Object(j.a)(Es,cs.SQUARE1,{}),Object(j.a)(Es,cs.SQUARE1_NET,{}),Es);function Ms(t,e){switch(t){case cs.CUBE:return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};js[cs.CUBE][t.size]||(js[cs.CUBE][t.size]=new ss(t.size));return js[cs.CUBE][t.size]}(e);case cs.CUBE_NET:return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};js[cs.CUBE_NET][t.size]||(js[cs.CUBE_NET][t.size]=new es(t.size));return js[cs.CUBE_NET][t.size]}(e);case cs.CUBE_TOP:return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};js[cs.CUBE_TOP][t.size]||(js[cs.CUBE_TOP][t.size]=new ts(t.size));return js[cs.CUBE_TOP][t.size]}(e);case cs.MEGAMINX:return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};js[cs.MEGAMINX][t.size]||(js[cs.MEGAMINX][t.size]=new Qe(t.size));return js[cs.MEGAMINX][t.size]}(e);case cs.MEGAMINX_NET:return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};js[cs.MEGAMINX_NET][t.size]||(js[cs.MEGAMINX_NET][t.size]=new He(t.size));return js[cs.MEGAMINX_NET][t.size]}(e);case cs.MEGAMINX_TOP:return function(){js[cs.MEGAMINX_TOP][2]||(js[cs.MEGAMINX_TOP][2]=new Os);return js[cs.MEGAMINX_TOP][2]}(e);case cs.PYRAMINX:return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};js[cs.PYRAMINX][t.size]||(js[cs.PYRAMINX][t.size]=new Le(t.size));return js[cs.PYRAMINX][t.size]}(e);case cs.PYRAMINX_NET:return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};js[cs.PYRAMINX_NET][t.size]||(js[cs.PYRAMINX_NET][t.size]=new Te(t.size));return js[cs.PYRAMINX_NET][t.size]}(e);case cs.SKEWB:return function(){js[cs.SKEWB][1]||(js[cs.SKEWB][1]=new Me);return js[cs.SKEWB][1]}(e);case cs.SKEWB_NET:return function(){js[cs.SKEWB_NET][1]||(js[cs.SKEWB_NET][1]=new je);return js[cs.SKEWB_NET][1]}(e);case cs.SQUARE1:return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Fs(t);return new ge(e.topLayer,e.bottomLayer,e.middleRotated,t.scheme)}(e);case cs.SQUARE1_NET:return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Fs(t);return new pe(e.topLayer,e.bottomLayer,e.middleRotated,t.scheme)}(e)}}function Cs(t,e){switch(t){case cs.CUBE:case cs.CUBE_NET:case cs.CUBE_TOP:return new se(e.size);case cs.MEGAMINX:case cs.MEGAMINX_NET:case cs.MEGAMINX_TOP:return new _t;case cs.PYRAMINX:case cs.PYRAMINX_NET:return new Tt;case cs.SKEWB:case cs.SKEWB_NET:return new mt;case cs.SQUARE1:case cs.SQUARE1_NET:return Fs(e)}}function Fs(t){var e=new ut(t.scheme);return t.case?e.case(t.case):t.alg&&e.alg(t.alg),e}var Bs=function(){function t(a,b,e,r){Object(k.a)(this,t),this.a=a,this.b=b,this.c=e,this.d=r}return Object(R.a)(t,null,[{key:"fromEuler",value:function(e,r,n){var o=Math.PI/360;e*=o,n*=o,r*=o;var c=Math.sin(e),h=Math.cos(e),l=Math.sin(r),f=Math.cos(r),v=Math.sin(n),d=Math.cos(n);return new t(c*f*d-h*l*v,h*l*d+c*f*v,h*f*v-c*l*d,h*f*d+c*l*v)}}]),t}();function Ts(t){return t===cs.SQUARE1||t===cs.SQUARE1_NET}function Is(t,e){return function(t){return t===cs.PYRAMINX||t===cs.PYRAMINX_NET}(t)?3===e:!function(t){return t===cs.MEGAMINX||t===cs.MEGAMINX_NET||t===cs.MEGAMINX_TOP}(t)||2===e}var Ss=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(k.a)(this,t),this.type=r,this.camera=new hs,this.scene=new ls,this.group=new oe,this.scene.add(this.group),this.renderer=e,this.initPuzzleOptions(n),this.puzzleGeometry=Ms(this.type,this.options),this.simulator=Cs(this.type,this.options),this.buildGroupMatrix(),this.applyColors(),this.addArrows(),this.group.addObject(this.puzzleGeometry.group),this.render()}return Object(R.a)(t,[{key:"applyColors",value:function(){var t=this,e=this.options.stickerColors&&!Ts(this.type),r=Is(this.type,this.options.size);if(e)this.puzzleGeometry.setColors(this.options.stickerColors);else if(r)this.applySimulatorColors();else{var n=this.puzzleGeometry.faces;Object.keys(n).forEach((function(e){var r=n[e],o=t.options.scheme[e];r instanceof be?r.faces.forEach((function(t){return t.color=o})):r instanceof oe&&r.objects.forEach((function(t){return t.color=o}))}))}}},{key:"applySimulatorColors",value:function(){this.options.mask&&this.applyMask(this.options),(this.options.alg||this.options.case)&&this.applyAlgorithm();var t=function(t,e){return Object.keys(t).reduce((function(r,n){return r[n]=t[n].map((function(t){return e[t]||W})),r}),{})}(this.simulator.getValues(),this.options.scheme);this.puzzleGeometry.setColors(t)}},{key:"applyAlgorithm",value:function(){Ts(this.type)||(this.options.case?this.simulator.case(this.options.case):this.options.alg&&this.simulator.alg(this.options.alg))}},{key:"applyMask",value:function(t){var e=this;Object.keys(t.mask).forEach((function(r){t.mask[r].forEach((function(t){return e.simulator.setValue(r,t,"mask")}))}))}},{key:"buildGroupMatrix",value:function(){var t=this;if(this.group.matrix=new ie,this.options.rotations&&this.options.rotations.forEach((function(e){var r=e.x,n=void 0===r?0:r,o=e.y,c=void 0===o?0:o,h=e.z,l=void 0===h?0:h,f=ie.fromQuaternion(Bs.fromEuler(n,c,l));ie.multiply(t.group.matrix,f,t.group.matrix)})),this.options.scale){var e=this.options.scale;this.group.matrix.scale(e,e,e)}if(this.options.translation){var r=this.options.translation,n=r.x,o=void 0===n?0:n,c=r.y,h=void 0===c?0:c,l=r.z,f=void 0===l?0:l,v=ie.fromTranslation(o,h,f);ie.multiply(this.group.matrix,v,this.group.matrix)}}},{key:"addArrows",value:function(){var t=this;this.options.arrows&&this.options.arrows.forEach((function(e){try{t.scene.add(function(a,t,e){var r,n,o,c,h,l,f,v,d=t.faces[a.start.face],y=t.faces[a.end.face];if(!d||!y)throw new Error("Invalid arrow definition ".concat(JSON.stringify(a)));var m,k,R=[d.matrix,t.group.matrix,e.matrix],w=[y.matrix,t.group.matrix,e.matrix];if(d instanceof be&&y instanceof be?(m=null===(r=d.faces[a.start.sticker])||void 0===r?void 0:r.centroid,k=null===(n=y.faces[a.end.sticker])||void 0===n?void 0:n.centroid):(t instanceof ge?(m=null===(o=d.objects[a.start.sticker])||void 0===o?void 0:o.faces[0].centroid,k=null===(c=y.objects[a.end.sticker])||void 0===c?void 0:c.faces[0].centroid):(m=null===(h=d.objects[a.start.sticker])||void 0===h?void 0:h.centroid,k=null===(l=y.objects[a.end.sticker])||void 0===l?void 0:l.centroid),R.unshift(null===(f=d.objects[a.start.sticker])||void 0===f?void 0:f.matrix),w.unshift(null===(v=y.objects[a.end.sticker])||void 0===v?void 0:v.matrix)),!m||!k)throw new Error("Invalid arrow definition ".concat(JSON.stringify(a)));var E=as(m,R),O=as(k,w);return new is(E,O)}(e,t.puzzleGeometry,t.group))}catch(t){console.error(t),console.warn("Invalid arrow ".concat(JSON.stringify(e)))}}))}},{key:"initPuzzleOptions",value:function(t){this.options=Object.assign(Object.assign({},function(t){switch(t){case cs.CUBE:return fs;case cs.CUBE_NET:case cs.CUBE_TOP:return Object.assign(Object.assign({},fs),{rotations:null});case cs.MEGAMINX:case cs.MEGAMINX_NET:case cs.MEGAMINX_TOP:return vs;case cs.PYRAMINX:return ds;case cs.PYRAMINX_NET:return Object.assign(Object.assign({},ds),{rotations:null});case cs.SKEWB:return bs;case cs.SKEWB_NET:return Object.assign(Object.assign({},bs),{rotations:null});case cs.SQUARE1:return ys;case cs.SQUARE1_NET:return Object.assign(Object.assign({},ys),{rotations:null});default:throw new Error("Could not get default options for puzzle ".concat(t))}}(this.type)),t),ms(this.options)}},{key:"applyOptionsToPuzzle",value:function(){this.simulator.reset(),this.buildGroupMatrix(),this.applyColors(),this.addArrows()}},{key:"setPuzzleOptions",value:function(t){this.initPuzzleOptions(t),Ts(this.type)&&(this.puzzleGeometry=Ms(this.type,this.options),this.group.setObjects([this.puzzleGeometry.group])),this.applyOptionsToPuzzle()}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}}]),t}();r(37);function xs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(O.a)(t);if(e){var o=Object(O.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(E.a)(this,r)}}var Ls={width:500,height:500,lineWidth:5,arrowColor:U};function Ps(element,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new zs(element,t,e)}var zs=function(t){Object(w.a)(r,t);var e=xs(r);function r(element,t,n){if(Object(k.a)(this,r),n=Object.assign(Object.assign({},Ls),n),"string"==typeof element&&null===(element=document.querySelector(element)))throw new Error("Could not find visuzlier element by query selector: ".concat(element));var o=new us(n.width,n.height,n.lineWidth,n.arrowColor);return element.appendChild(o.domElement),e.call(this,o,t,n.puzzle)}return Object(R.a)(r)}(Ss)},305:function(t,e,r){"use strict";r(306)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(307))},306:function(t,e,r){"use strict";var n=r(13),o=r(9),c=r(14),h=r(102),l=r(41),f=r(221),v=r(220),d=r(160),y=r(21),m=r(26),k=r(12),R=r(161),w=r(78),E=r(165);t.exports=function(t,e,r){var O=-1!==t.indexOf("Map"),j=-1!==t.indexOf("Weak"),M=O?"set":"add",C=o[t],F=C&&C.prototype,B=C,T={},I=function(t){var e=c(F[t]);l(F,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(j&&!m(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return j&&!m(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(j&&!m(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(h(t,!y(C)||!(j||F.forEach&&!k((function(){(new C).entries().next()})))))B=r.getConstructor(e,t,O,M),f.enable();else if(h(t,!0)){var S=new B,x=S[M](j?{}:-0,1)!=S,L=k((function(){S.has(1)})),P=R((function(t){new C(t)})),z=!j&&k((function(){for(var t=new C,e=5;e--;)t[M](e,e);return!t.has(-0)}));P||((B=e((function(t,e){d(t,F);var r=E(new C,t,B);return null!=e&&v(e,r[M],{that:r,AS_ENTRIES:O}),r}))).prototype=F,F.constructor=B),(L||z)&&(I("delete"),I("has"),O&&I("get")),(z||x)&&I(M),j&&F.clear&&delete F.clear}return T[t]=B,n({global:!0,forced:B!=C},T),w(B,t),j||r.setStrong(B,t,O),B}},307:function(t,e,r){"use strict";var n=r(35).f,o=r(62),c=r(163),h=r(65),l=r(160),f=r(220),v=r(162),d=r(164),y=r(29),m=r(221).fastKey,k=r(55),R=k.set,w=k.getterFor;t.exports={getConstructor:function(t,e,r,v){var d=t((function(t,n){l(t,k),R(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),y||(t.size=0),null!=n&&f(n,t[v],{that:t,AS_ENTRIES:r})})),k=d.prototype,E=w(e),O=function(t,e,r){var n,o,c=E(t),h=j(t,e);return h?h.value=r:(c.last=h={index:o=m(e,!0),key:e,value:r,previous:n=c.last,next:void 0,removed:!1},c.first||(c.first=h),n&&(n.next=h),y?c.size++:t.size++,"F"!==o&&(c.index[o]=h)),t},j=function(t,e){var r,n=E(t),o=m(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==e)return r};return c(k,{clear:function(){for(var t=E(this),data=t.index,e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),delete data[e.index],e=e.next;t.first=t.last=void 0,y?t.size=0:this.size=0},delete:function(t){var e=this,r=E(e),n=j(e,t);if(n){var o=n.next,c=n.previous;delete r.index[n.index],n.removed=!0,c&&(c.next=o),o&&(o.previous=c),r.first==n&&(r.first=o),r.last==n&&(r.last=c),y?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=E(this),n=h(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!j(this,t)}}),c(k,r?{get:function(t){var e=j(this,t);return e&&e.value},set:function(t,e){return O(this,0===t?0:t,e)}}:{add:function(t){return O(this,t=0===t?0:t,t)}}),y&&n(k,"size",{get:function(){return E(this).size}}),d},setStrong:function(t,e,r){var n=e+" Iterator",o=w(e),c=w(n);v(t,e,(function(t,e){R(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=c(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),d(e)}}},308:function(t,e,r){"use strict";r(13)({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:r(309)})},309:function(t,e,r){"use strict";var n=r(32),o=r(61),c=r(25);t.exports=function(){for(var t,e=c(this),r=o(e.delete),h=!0,l=0,f=arguments.length;l<f;l++)t=n(r,e,arguments[l]),h=h&&t;return!!h}},310:function(t,e,r){"use strict";var n=r(13),o=r(25),c=r(65),h=r(281),l=r(220);n({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var map=o(this),e=h(map),r=c(t,arguments.length>1?arguments[1]:void 0);return!l(e,(function(t,e,n){if(!r(e,t,map))return n()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},311:function(t,e,r){"use strict";var n=r(13),o=r(46),c=r(65),h=r(32),l=r(61),f=r(25),v=r(125),d=r(281),y=r(220);n({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var map=f(this),e=d(map),r=c(t,arguments.length>1?arguments[1]:void 0),n=new(v(map,o("Map"))),m=l(n.set);return y(e,(function(t,e){r(e,t,map)&&h(m,n,t,e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),n}})},312:function(t,e,r){"use strict";var n=r(13),o=r(25),c=r(65),h=r(281),l=r(220);n({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var map=o(this),e=h(map),r=c(t,arguments.length>1?arguments[1]:void 0);return l(e,(function(t,e,n){if(r(e,t,map))return n(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},313:function(t,e,r){"use strict";var n=r(13),o=r(25),c=r(65),h=r(281),l=r(220);n({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var map=o(this),e=h(map),r=c(t,arguments.length>1?arguments[1]:void 0);return l(e,(function(t,e,n){if(r(e,t,map))return n(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},314:function(t,e,r){"use strict";var n=r(13),o=r(25),c=r(281),h=r(315),l=r(220);n({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return l(c(o(this)),(function(e,r,n){if(h(r,t))return n()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},315:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},316:function(t,e,r){"use strict";var n=r(13),o=r(25),c=r(281),h=r(220);n({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){return h(c(o(this)),(function(e,r,n){if(r===t)return n(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},317:function(t,e,r){"use strict";var n=r(13),o=r(46),c=r(65),h=r(32),l=r(61),f=r(25),v=r(125),d=r(281),y=r(220);n({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var map=f(this),e=d(map),r=c(t,arguments.length>1?arguments[1]:void 0),n=new(v(map,o("Map"))),m=l(n.set);return y(e,(function(t,e){h(m,n,r(e,t,map),e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),n}})},318:function(t,e,r){"use strict";var n=r(13),o=r(46),c=r(65),h=r(32),l=r(61),f=r(25),v=r(125),d=r(281),y=r(220);n({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var map=f(this),e=d(map),r=c(t,arguments.length>1?arguments[1]:void 0),n=new(v(map,o("Map"))),m=l(n.set);return y(e,(function(t,e){h(m,n,t,r(e,t,map))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),n}})},319:function(t,e,r){"use strict";var n=r(13),o=r(61),c=r(25),h=r(220);n({target:"Map",proto:!0,real:!0,forced:!0},{merge:function(t){for(var map=c(this),e=o(map.set),r=arguments.length,i=0;i<r;)h(arguments[i++],e,{that:map,AS_ENTRIES:!0});return map}})},320:function(t,e,r){"use strict";var n=r(13),o=r(9),c=r(25),h=r(61),l=r(281),f=r(220),v=o.TypeError;n({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var map=c(this),e=l(map),r=arguments.length<2,n=r?void 0:arguments[1];if(h(t),f(e,(function(e,o){r?(r=!1,n=o):n=t(n,o,e,map)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw v("Reduce of empty map with no initial value");return n}})},321:function(t,e,r){"use strict";var n=r(13),o=r(25),c=r(65),h=r(281),l=r(220);n({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var map=o(this),e=h(map),r=c(t,arguments.length>1?arguments[1]:void 0);return l(e,(function(t,e,n){if(r(e,t,map))return n()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},322:function(t,e,r){"use strict";var n=r(13),o=r(9),c=r(32),h=r(25),l=r(61),f=o.TypeError;n({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,e){var map=h(this),r=l(map.get),n=l(map.has),o=l(map.set),v=arguments.length;l(e);var d=c(n,map,t);if(!d&&v<3)throw f("Updating absent value");var y=d?c(r,map,t):l(v>2?arguments[2]:void 0)(t,map);return c(o,map,t,e(y,t,map)),map}})},323:function(t,e,r){var n=r(13),o=Math.hypot,c=Math.abs,h=Math.sqrt;n({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var r,div,n=0,i=0,o=arguments.length,l=0;i<o;)l<(r=c(arguments[i++]))?(n=n*(div=l/r)*div+1,l=r):n+=r>0?(div=r/l)*div:r;return l===1/0?1/0:l*h(n)}})},324:function(t,e,r){var n=r(26),o=Math.floor;t.exports=Number.isInteger||function(t){return!n(t)&&isFinite(t)&&o(t)===t}},325:function(t,e,r){var n=r(9).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&n(t)}}}]);